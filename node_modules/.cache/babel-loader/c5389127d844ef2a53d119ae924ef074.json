{"ast":null,"code":"import { DECREASE_CART_AMOUNT, INCREASE_CART_AMOUNT, REMOVE_FROM_CART, DISCOUNT_CART_PRICE, SET_CART_PRICE, CHANGE_ITEM_PRICE, ADD_TO_CART, EMPTY_CART } from \"../constants/actionTypes\";\nconst initState = {\n  cart: [],\n  cartPrice: 0,\n  discount: false\n};\n\nconst cartReducer = (state = initState, action) => {\n  switch (action.type) {\n    case ADD_TO_CART:\n      return { ...state,\n        cart: [...state.cart, action.payload.item]\n      };\n\n    case INCREASE_CART_AMOUNT:\n      let tempCart = state.cart.map(cartItem => cartItem._id === action.payload.id && cartItem.size === action.payload.size ? cartItem = { ...cartItem,\n        cartAmount: cartItem.cartAmount + 1\n      } : cartItem);\n      return { ...state,\n        cart: tempCart\n      };\n\n    case DECREASE_CART_AMOUNT:\n      let tempCart2 = [];\n\n      if (action.payload.amount === 1) {\n        tempCart2 = state.cart.filter(item => !(item._id === action.payload.id && item.size === action.payload.size));\n      } else {\n        tempCart2 = state.cart.map(cartItem => cartItem._id === action.payload.id && cartItem.size === action.payload.size ? cartItem = { ...cartItem,\n          cartAmount: cartItem.cartAmount - 1\n        } : cartItem);\n      }\n\n      return { ...state,\n        cart: tempCart2\n      };\n\n    case REMOVE_FROM_CART:\n      return { ...state,\n        cart: state.cart.filter(item => !(item._id === action.payload.id && item.size === action.payload.size))\n      };\n\n    case EMPTY_CART:\n      return { ...state,\n        cart: [],\n        discount: false\n      };\n\n    case DISCOUNT_CART_PRICE:\n      return { ...state,\n        discount: action.payload.boolean\n      };\n\n    case SET_CART_PRICE:\n      return { ...state,\n        cartPrice: action.payload.price.toFixed(2)\n      };\n\n    case CHANGE_ITEM_PRICE:\n      const newCart = state.cart.map(item => item._id === action.payload.id && item.size === action.payload.size ? item = { ...item,\n        discount: true,\n        priceBeforeDiscount: item.price,\n        price: item.price * 0.9\n      } : item);\n      return { ...state,\n        cart: newCart\n      };\n\n    default:\n      return { ...state\n      };\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["C:/Users/lukas/Desktop/Programowanko/Projekty/benzen/client/src/reducers/cartReducer.js"],"names":["DECREASE_CART_AMOUNT","INCREASE_CART_AMOUNT","REMOVE_FROM_CART","DISCOUNT_CART_PRICE","SET_CART_PRICE","CHANGE_ITEM_PRICE","ADD_TO_CART","EMPTY_CART","initState","cart","cartPrice","discount","cartReducer","state","action","type","payload","item","tempCart","map","cartItem","_id","id","size","cartAmount","tempCart2","amount","filter","boolean","price","toFixed","newCart","priceBeforeDiscount"],"mappings":"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","sourcesContent":["import {\r\n  DECREASE_CART_AMOUNT,\r\n  INCREASE_CART_AMOUNT,\r\n  REMOVE_FROM_CART,\r\n  DISCOUNT_CART_PRICE,\r\n  SET_CART_PRICE,\r\n  CHANGE_ITEM_PRICE,\r\n  ADD_TO_CART,\r\n  EMPTY_CART,\r\n} from \"../constants/actionTypes\";\r\n\r\nconst initState = {\r\n  cart: [],\r\n  cartPrice: 0,\r\n  discount: false,\r\n};\r\n\r\nconst cartReducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case ADD_TO_CART:\r\n      return {\r\n        ...state,\r\n        cart: [...state.cart, action.payload.item],\r\n      };\r\n    case INCREASE_CART_AMOUNT:\r\n      let tempCart = state.cart.map((cartItem) =>\r\n        cartItem._id === action.payload.id &&\r\n        cartItem.size === action.payload.size\r\n          ? (cartItem = { ...cartItem, cartAmount: cartItem.cartAmount + 1 })\r\n          : cartItem\r\n      );\r\n      return { ...state, cart: tempCart };\r\n    case DECREASE_CART_AMOUNT:\r\n      let tempCart2 = [];\r\n      if (action.payload.amount === 1) {\r\n        tempCart2 = state.cart.filter(\r\n          (item) =>\r\n            !(\r\n              item._id === action.payload.id &&\r\n              item.size === action.payload.size\r\n            )\r\n        );\r\n      } else {\r\n        tempCart2 = state.cart.map((cartItem) =>\r\n          cartItem._id === action.payload.id &&\r\n          cartItem.size === action.payload.size\r\n            ? (cartItem = { ...cartItem, cartAmount: cartItem.cartAmount - 1 })\r\n            : cartItem\r\n        );\r\n      }\r\n      return { ...state, cart: tempCart2 };\r\n    case REMOVE_FROM_CART:\r\n      return {\r\n        ...state,\r\n        cart: state.cart.filter(\r\n          (item) =>\r\n            !(\r\n              item._id === action.payload.id &&\r\n              item.size === action.payload.size\r\n            )\r\n        ),\r\n      };\r\n    case EMPTY_CART:\r\n      return {\r\n        ...state,\r\n        cart: [],\r\n        discount: false,\r\n      };\r\n    case DISCOUNT_CART_PRICE:\r\n      return {\r\n        ...state,\r\n        discount: action.payload.boolean,\r\n      };\r\n    case SET_CART_PRICE:\r\n      return {\r\n        ...state,\r\n        cartPrice: action.payload.price.toFixed(2),\r\n      };\r\n    case CHANGE_ITEM_PRICE:\r\n      const newCart = state.cart.map((item) =>\r\n        item._id === action.payload.id && item.size === action.payload.size\r\n          ? (item = {\r\n              ...item,\r\n              discount: true,\r\n              priceBeforeDiscount: item.price,\r\n              price: item.price * 0.9,\r\n            })\r\n          : item\r\n      );\r\n      return {\r\n        ...state,\r\n        cart: newCart,\r\n      };\r\n\r\n    default:\r\n      return { ...state };\r\n  }\r\n};\r\n\r\nexport default cartReducer;\r\n"]},"metadata":{},"sourceType":"module"}