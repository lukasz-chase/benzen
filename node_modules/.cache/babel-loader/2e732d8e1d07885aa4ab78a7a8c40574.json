{"ast":null,"code":"import * as api from \"../api\";\nimport { GET_ORDERS, GET_ORDER, GET_USER_ORDERS, CREATE_ORDER, UPDATE_ORDER } from \"../constants/actionTypes\";\nexport const getOrders = () => async dispatch => {\n  const ordersData = await api.getOrders();\n  dispatch({\n    type: GET_ORDERS,\n    payload: {\n      orders: ordersData\n    }\n  });\n};\nexport const getOrder = id => async dispatch => {\n  const orderData = await api.getOrder(id);\n  dispatch({\n    type: GET_ORDER,\n    payload: {\n      orders: orderData\n    }\n  });\n};\nexport const getUserOrders = id => async dispatch => {\n  const userOrders = await api.getUserOrders(id);\n  dispatch({\n    type: GET_USER_ORDERS,\n    payload: {\n      orders: userOrders\n    }\n  });\n};\nexport const createOrder = orderData => async dispatch => {\n  const order = await api.createOrder(orderData);\n  await Promise.all(orderData.cart.map(item => api.decreaseItemAmount(item._id)));\n  console.log(order);\n  dispatch({\n    type: CREATE_ORDER,\n    payload: order.data\n  });\n};\nexport const updateOrder = id => async dispatch => {\n  const order = await api.updateOrder(id);\n  dispatch({\n    type: UPDATE_ORDER,\n    payload: order\n  });\n};","map":{"version":3,"sources":["C:/Users/lukas/Desktop/Programowanko/Projekty/benzen/client/src/actions/ordersAction.js"],"names":["api","GET_ORDERS","GET_ORDER","GET_USER_ORDERS","CREATE_ORDER","UPDATE_ORDER","getOrders","dispatch","ordersData","type","payload","orders","getOrder","id","orderData","getUserOrders","userOrders","createOrder","order","Promise","all","cart","map","item","decreaseItemAmount","_id","console","log","data","updateOrder"],"mappings":"AAAA,OAAO,KAAKA,GAAZ,MAAqB,QAArB;AACA,SACEC,UADF,EAEEC,SAFF,EAGEC,eAHF,EAIEC,YAJF,EAKEC,YALF,QAMO,0BANP;AAQA,OAAO,MAAMC,SAAS,GAAG,MAAM,MAAOC,QAAP,IAAoB;AACjD,QAAMC,UAAU,GAAG,MAAMR,GAAG,CAACM,SAAJ,EAAzB;AACAC,EAAAA,QAAQ,CAAC;AACPE,IAAAA,IAAI,EAAER,UADC;AAEPS,IAAAA,OAAO,EAAE;AACPC,MAAAA,MAAM,EAAEH;AADD;AAFF,GAAD,CAAR;AAMD,CARM;AASP,OAAO,MAAMI,QAAQ,GAAIC,EAAD,IAAQ,MAAON,QAAP,IAAoB;AAClD,QAAMO,SAAS,GAAG,MAAMd,GAAG,CAACY,QAAJ,CAAaC,EAAb,CAAxB;AACAN,EAAAA,QAAQ,CAAC;AACPE,IAAAA,IAAI,EAAEP,SADC;AAEPQ,IAAAA,OAAO,EAAE;AACPC,MAAAA,MAAM,EAAEG;AADD;AAFF,GAAD,CAAR;AAMD,CARM;AASP,OAAO,MAAMC,aAAa,GAAIF,EAAD,IAAQ,MAAON,QAAP,IAAoB;AACvD,QAAMS,UAAU,GAAG,MAAMhB,GAAG,CAACe,aAAJ,CAAkBF,EAAlB,CAAzB;AACAN,EAAAA,QAAQ,CAAC;AACPE,IAAAA,IAAI,EAAEN,eADC;AAEPO,IAAAA,OAAO,EAAE;AACPC,MAAAA,MAAM,EAAEK;AADD;AAFF,GAAD,CAAR;AAMD,CARM;AASP,OAAO,MAAMC,WAAW,GAAIH,SAAD,IAAe,MAAOP,QAAP,IAAoB;AAC5D,QAAMW,KAAK,GAAG,MAAMlB,GAAG,CAACiB,WAAJ,CAAgBH,SAAhB,CAApB;AACA,QAAMK,OAAO,CAACC,GAAR,CACJN,SAAS,CAACO,IAAV,CAAeC,GAAf,CAAoBC,IAAD,IAAUvB,GAAG,CAACwB,kBAAJ,CAAuBD,IAAI,CAACE,GAA5B,CAA7B,CADI,CAAN;AAGAC,EAAAA,OAAO,CAACC,GAAR,CAAYT,KAAZ;AACAX,EAAAA,QAAQ,CAAC;AACPE,IAAAA,IAAI,EAAEL,YADC;AAEPM,IAAAA,OAAO,EAAEQ,KAAK,CAACU;AAFR,GAAD,CAAR;AAID,CAVM;AAWP,OAAO,MAAMC,WAAW,GAAIhB,EAAD,IAAQ,MAAON,QAAP,IAAoB;AACrD,QAAMW,KAAK,GAAG,MAAMlB,GAAG,CAAC6B,WAAJ,CAAgBhB,EAAhB,CAApB;AACAN,EAAAA,QAAQ,CAAC;AACPE,IAAAA,IAAI,EAAEJ,YADC;AAEPK,IAAAA,OAAO,EAAEQ;AAFF,GAAD,CAAR;AAID,CANM","sourcesContent":["import * as api from \"../api\";\r\nimport {\r\n  GET_ORDERS,\r\n  GET_ORDER,\r\n  GET_USER_ORDERS,\r\n  CREATE_ORDER,\r\n  UPDATE_ORDER,\r\n} from \"../constants/actionTypes\";\r\n\r\nexport const getOrders = () => async (dispatch) => {\r\n  const ordersData = await api.getOrders();\r\n  dispatch({\r\n    type: GET_ORDERS,\r\n    payload: {\r\n      orders: ordersData,\r\n    },\r\n  });\r\n};\r\nexport const getOrder = (id) => async (dispatch) => {\r\n  const orderData = await api.getOrder(id);\r\n  dispatch({\r\n    type: GET_ORDER,\r\n    payload: {\r\n      orders: orderData,\r\n    },\r\n  });\r\n};\r\nexport const getUserOrders = (id) => async (dispatch) => {\r\n  const userOrders = await api.getUserOrders(id);\r\n  dispatch({\r\n    type: GET_USER_ORDERS,\r\n    payload: {\r\n      orders: userOrders,\r\n    },\r\n  });\r\n};\r\nexport const createOrder = (orderData) => async (dispatch) => {\r\n  const order = await api.createOrder(orderData);\r\n  await Promise.all(\r\n    orderData.cart.map((item) => api.decreaseItemAmount(item._id))\r\n  );\r\n  console.log(order);\r\n  dispatch({\r\n    type: CREATE_ORDER,\r\n    payload: order.data,\r\n  });\r\n};\r\nexport const updateOrder = (id) => async (dispatch) => {\r\n  const order = await api.updateOrder(id);\r\n  dispatch({\r\n    type: UPDATE_ORDER,\r\n    payload: order,\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}