{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\lukas\\\\Desktop\\\\Programowanko\\\\Projekty\\\\benzen\\\\client\\\\src\\\\pages\\\\LoginPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\"; //react router\n\nimport { useLocation } from \"react-router\";\nimport { Link, useHistory } from \"react-router-dom\"; //redux\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { signin, signup } from \"../actions/authAction\"; //styling\n\nimport styled from \"styled-components\"; //icons\n\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\"; //history\n\nimport HistoryIcon from \"@material-ui/icons/History\"; //data\n\nimport { signIn, signUp } from \"../descriptions/inputs\"; //components\n\nimport Input from \"../components/Input\";\nimport Button from \"../components/Button\"; //action types\n\nimport { SIGN_IN_ERROR, SIGN_UP_ERROR } from \"../constants/actionTypes\";\n\nconst AccountPage = () => {\n  _s();\n\n  //state\n  const {\n    signInError,\n    signUpError\n  } = useSelector(state => state.auth); //login state\n\n  const [form, setForm] = useState({\n    email: \"\",\n    password: \"\",\n    name: \"\",\n    surname: \"\"\n  }); //location\n\n  const location = useLocation();\n  const dispatch = useDispatch();\n  const pathName = location.pathname.split(\"/\")[3];\n  const order = location.pathname.split(\"/\")[4]; //history\n\n  const history = useHistory();\n\n  const clearForm = () => {\n    setForm({\n      email: \"\",\n      password: \"\",\n      name: \"\",\n      surname: \"\"\n    });\n  };\n\n  const loginHandler = () => {\n    if (form.email !== \"\" && form.password !== \"\") {\n      dispatch(signin(form, history));\n    } else {\n      dispatch({\n        type: SIGN_IN_ERROR,\n        payload: \"Inputs can't be empty\"\n      });\n    }\n  };\n\n  const registerHandler = () => {\n    if (form.email !== \"\" && form.password !== \"\") {\n      // eslint-disable-next-line no-useless-escape\n      if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(form.email)) {\n        // eslint-disable-next-line no-useless-escape\n        if (/^(?=.*\\d)(?=.*[a-z])[0-9a-zA-Z]{6,}$/.test(form.password)) {\n          dispatch(signup(form, history));\n        } else {\n          dispatch({\n            type: SIGN_UP_ERROR,\n            payload: \"password has to contain at least 6 characters with 1 digit and 1 lower case\"\n          });\n        }\n      } else {\n        dispatch({\n          type: SIGN_UP_ERROR,\n          payload: \"invalid email\"\n        });\n      }\n    } else {\n      dispatch({\n        type: SIGN_UP_ERROR,\n        payload: \"email and password can't be empty\"\n      });\n    }\n  };\n\n  const handleForm = e => setForm({ ...form,\n    [e.target.name]: e.target.value\n  });\n\n  return /*#__PURE__*/_jsxDEV(AccountPageComponent, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"left-side\",\n      style: {\n        flex: pathName === \"login\" ? \"1.2\" : \"1\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Are you a user?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login\",\n        style: {\n          display: pathName === \"login\" ? \"flex\" : \"none\"\n        },\n        children: signIn.map(input => /*#__PURE__*/_jsxDEV(Input, {\n          label: input.label,\n          name: input.name,\n          value: form[input.name],\n          type: input.type,\n          handleChange: e => handleForm(e),\n          required: input.required // handler={input.useHandler ? loginHandler() : \"\"}\n\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          display: pathName === \"login\" ? \"flex\" : \"none\"\n        },\n        className: \"error\",\n        children: signInError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/customer/account/login\",\n        onClick: () => clearForm(),\n        className: \"link\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          label: \"Sign in\",\n          size: pathName === \"login\" ? \"\" : \"lg\",\n          onClick: e => pathName === \"login\" ? loginHandler() : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), order && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"anonymous-order\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/checkout/order\",\n            className: \"link\",\n            children: \"I want to purchase without logging in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"right-side\",\n      style: {\n        flex: pathName === \"register\" ? \"1.2\" : \"1\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"register\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Is this your first visit?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"register-form\",\n          style: {\n            display: pathName === \"register\" ? \"flex\" : \"none\"\n          },\n          children: signUp.map(input => /*#__PURE__*/_jsxDEV(Input, {\n            label: input.label,\n            name: input.name,\n            value: form[input.name],\n            type: input.type,\n            handleChange: e => handleForm(e),\n            required: input.required\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            display: pathName === \"register\" ? \"flex\" : \"none\"\n          },\n          className: \"error\",\n          children: signUpError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/customer/account/register\",\n          onClick: () => clearForm(),\n          className: \"link\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            label: \"Create account\",\n            size: pathName === \"register\" ? \"\" : \"lg\",\n            onClick: e => pathName === \"register\" ? registerHandler() : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"you'll gain\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-gains\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [/*#__PURE__*/_jsxDEV(FavoriteIcon, {\n              className: \"icons\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this), \"Favorite clothes\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [/*#__PURE__*/_jsxDEV(SearchIcon, {\n              className: \"icons\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this), \"Convenient way to track your order\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [/*#__PURE__*/_jsxDEV(HistoryIcon, {\n              className: \"icons\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this), \"Easy access to order history\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AccountPage, \"k+IB0MyG1qtY9cT5nIuxskK/4i8=\", false, function () {\n  return [useSelector, useLocation, useDispatch, useHistory];\n});\n\n_c = AccountPage;\nconst AccountPageComponent = styled.div`\n  display: flex;\n  min-height: 70vh;\n  justify-content: center;\n  align-items: center;\n  @media screen and (max-width: 1000px) {\n    flex-direction: column;\n  }\n  .error {\n    color: tomato;\n    text-transform: uppercase;\n    padding: 10px 0;\n  }\n  .left-side {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    text-align: center;\n    transform: 0.3s ease-in all;\n    padding: 1rem 0rem;\n    .login {\n      flex-direction: column;\n    }\n    h2 {\n      font-weight: bold;\n      font-size: 1.5rem;\n    }\n    .input {\n      width: 20rem;\n      padding: 1rem 0rem;\n    }\n    p {\n      font-size: 1rem;\n      font-weight: bold;\n      text-decoration: underline;\n    }\n  }\n  .right-side {\n    background-color: #f3f3f5;\n    height: 85vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    text-align: center;\n    transform: 0.3s ease-in all;\n    h2 {\n      padding: 2rem 0rem;\n      font-weight: bold;\n      font-size: 1.5rem;\n    }\n    .info {\n      text-align: left;\n      padding: 1rem 2rem;\n      font-size: 0.9rem;\n      text-transform: upperCase;\n    }\n    .info-gains {\n      text-align: left;\n      padding: 1rem;\n      h3 {\n        font-size: 1rem;\n        padding: 0.8rem 0rem;\n      }\n\n      .icons {\n        color: rgba(0, 0, 0, 0.6);\n        margin: 0rem 1rem;\n      }\n    }\n  }\n  .register {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    .register-form {\n      flex-direction: column;\n    }\n    .input {\n      width: 42vh;\n    }\n\n    .name {\n      display: flex;\n      .name-input {\n        flex: 1;\n        margin-right: 1rem;\n      }\n    }\n  }\n`;\n_c2 = AccountPageComponent;\nexport default AccountPage;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AccountPage\");\n$RefreshReg$(_c2, \"AccountPageComponent\");","map":{"version":3,"sources":["C:/Users/lukas/Desktop/Programowanko/Projekty/benzen/client/src/pages/LoginPage.js"],"names":["React","useState","useLocation","Link","useHistory","useDispatch","useSelector","signin","signup","styled","SearchIcon","FavoriteIcon","HistoryIcon","signIn","signUp","Input","Button","SIGN_IN_ERROR","SIGN_UP_ERROR","AccountPage","signInError","signUpError","state","auth","form","setForm","email","password","name","surname","location","dispatch","pathName","pathname","split","order","history","clearForm","loginHandler","type","payload","registerHandler","test","handleForm","e","target","value","flex","display","map","input","label","required","AccountPageComponent","div"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\n//react router\r\nimport { useLocation } from \"react-router\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n//redux\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { signin, signup } from \"../actions/authAction\";\r\n//styling\r\nimport styled from \"styled-components\";\r\n//icons\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\n//history\r\nimport HistoryIcon from \"@material-ui/icons/History\";\r\n//data\r\nimport { signIn, signUp } from \"../descriptions/inputs\";\r\n//components\r\nimport Input from \"../components/Input\";\r\nimport Button from \"../components/Button\";\r\n//action types\r\nimport { SIGN_IN_ERROR, SIGN_UP_ERROR } from \"../constants/actionTypes\";\r\n\r\nconst AccountPage = () => {\r\n  //state\r\n  const { signInError, signUpError } = useSelector((state) => state.auth);\r\n  //login state\r\n  const [form, setForm] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    name: \"\",\r\n    surname: \"\",\r\n  });\r\n  //location\r\n  const location = useLocation();\r\n  const dispatch = useDispatch();\r\n  const pathName = location.pathname.split(\"/\")[3];\r\n  const order = location.pathname.split(\"/\")[4];\r\n  //history\r\n  const history = useHistory();\r\n  const clearForm = () => {\r\n    setForm({\r\n      email: \"\",\r\n      password: \"\",\r\n      name: \"\",\r\n      surname: \"\",\r\n    });\r\n  };\r\n  const loginHandler = () => {\r\n    if (form.email !== \"\" && form.password !== \"\") {\r\n      dispatch(signin(form, history));\r\n    } else {\r\n      dispatch({ type: SIGN_IN_ERROR, payload: \"Inputs can't be empty\" });\r\n    }\r\n  };\r\n\r\n  const registerHandler = () => {\r\n    if (form.email !== \"\" && form.password !== \"\") {\r\n      // eslint-disable-next-line no-useless-escape\r\n      if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(form.email)) {\r\n        // eslint-disable-next-line no-useless-escape\r\n        if (/^(?=.*\\d)(?=.*[a-z])[0-9a-zA-Z]{6,}$/.test(form.password)) {\r\n          dispatch(signup(form, history));\r\n        } else {\r\n          dispatch({\r\n            type: SIGN_UP_ERROR,\r\n            payload:\r\n              \"password has to contain at least 6 characters with 1 digit and 1 lower case\",\r\n          });\r\n        }\r\n      } else {\r\n        dispatch({\r\n          type: SIGN_UP_ERROR,\r\n          payload: \"invalid email\",\r\n        });\r\n      }\r\n    } else {\r\n      dispatch({\r\n        type: SIGN_UP_ERROR,\r\n        payload: \"email and password can't be empty\",\r\n      });\r\n    }\r\n  };\r\n  const handleForm = (e) =>\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  return (\r\n    <AccountPageComponent>\r\n      <div\r\n        className=\"left-side\"\r\n        style={{ flex: pathName === \"login\" ? \"1.2\" : \"1\" }}\r\n      >\r\n        <h2>Are you a user?</h2>\r\n        <div\r\n          className=\"login\"\r\n          style={{ display: pathName === \"login\" ? \"flex\" : \"none\" }}\r\n        >\r\n          {signIn.map((input) => (\r\n            <Input\r\n              label={input.label}\r\n              name={input.name}\r\n              value={form[input.name]}\r\n              type={input.type}\r\n              handleChange={(e) => handleForm(e)}\r\n              required={input.required}\r\n              // handler={input.useHandler ? loginHandler() : \"\"}\r\n            />\r\n          ))}\r\n        </div>\r\n        <span\r\n          style={{ display: pathName === \"login\" ? \"flex\" : \"none\" }}\r\n          className=\"error\"\r\n        >\r\n          {signInError}\r\n        </span>\r\n        <Link\r\n          to=\"/customer/account/login\"\r\n          onClick={() => clearForm()}\r\n          className=\"link\"\r\n        >\r\n          <Button\r\n            label=\"Sign in\"\r\n            size={pathName === \"login\" ? \"\" : \"lg\"}\r\n            onClick={(e) => (pathName === \"login\" ? loginHandler() : \"\")}\r\n          />\r\n        </Link>\r\n        {order && (\r\n          <div className=\"anonymous-order\">\r\n            <span>\r\n              <Link to=\"/checkout/order\" className=\"link\">\r\n                I want to purchase without logging in\r\n              </Link>\r\n            </span>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div\r\n        className=\"right-side\"\r\n        style={{ flex: pathName === \"register\" ? \"1.2\" : \"1\" }}\r\n      >\r\n        <div className=\"register\">\r\n          <h2>Is this your first visit?</h2>\r\n          <div\r\n            className=\"register-form\"\r\n            style={{ display: pathName === \"register\" ? \"flex\" : \"none\" }}\r\n          >\r\n            {signUp.map((input) => (\r\n              <Input\r\n                label={input.label}\r\n                name={input.name}\r\n                value={form[input.name]}\r\n                type={input.type}\r\n                handleChange={(e) => handleForm(e)}\r\n                required={input.required}\r\n              />\r\n            ))}\r\n          </div>\r\n          <span\r\n            style={{ display: pathName === \"register\" ? \"flex\" : \"none\" }}\r\n            className=\"error\"\r\n          >\r\n            {signUpError}\r\n          </span>\r\n          <Link\r\n            to=\"/customer/account/register\"\r\n            onClick={() => clearForm()}\r\n            className=\"link\"\r\n          >\r\n            <Button\r\n              label=\"Create account\"\r\n              size={pathName === \"register\" ? \"\" : \"lg\"}\r\n              onClick={(e) =>\r\n                pathName === \"register\" ? registerHandler() : \"\"\r\n              }\r\n            />\r\n          </Link>\r\n          <div className=\"info\">\r\n            <span>you'll gain</span>\r\n          </div>\r\n          <div className=\"info-gains\">\r\n            <h3>\r\n              <FavoriteIcon className=\"icons\" />\r\n              Favorite clothes\r\n            </h3>\r\n            <h3>\r\n              <SearchIcon className=\"icons\" />\r\n              Convenient way to track your order\r\n            </h3>\r\n            <h3>\r\n              <HistoryIcon className=\"icons\" />\r\n              Easy access to order history\r\n            </h3>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </AccountPageComponent>\r\n  );\r\n};\r\n\r\nconst AccountPageComponent = styled.div`\r\n  display: flex;\r\n  min-height: 70vh;\r\n  justify-content: center;\r\n  align-items: center;\r\n  @media screen and (max-width: 1000px) {\r\n    flex-direction: column;\r\n  }\r\n  .error {\r\n    color: tomato;\r\n    text-transform: uppercase;\r\n    padding: 10px 0;\r\n  }\r\n  .left-side {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    text-align: center;\r\n    transform: 0.3s ease-in all;\r\n    padding: 1rem 0rem;\r\n    .login {\r\n      flex-direction: column;\r\n    }\r\n    h2 {\r\n      font-weight: bold;\r\n      font-size: 1.5rem;\r\n    }\r\n    .input {\r\n      width: 20rem;\r\n      padding: 1rem 0rem;\r\n    }\r\n    p {\r\n      font-size: 1rem;\r\n      font-weight: bold;\r\n      text-decoration: underline;\r\n    }\r\n  }\r\n  .right-side {\r\n    background-color: #f3f3f5;\r\n    height: 85vh;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    text-align: center;\r\n    transform: 0.3s ease-in all;\r\n    h2 {\r\n      padding: 2rem 0rem;\r\n      font-weight: bold;\r\n      font-size: 1.5rem;\r\n    }\r\n    .info {\r\n      text-align: left;\r\n      padding: 1rem 2rem;\r\n      font-size: 0.9rem;\r\n      text-transform: upperCase;\r\n    }\r\n    .info-gains {\r\n      text-align: left;\r\n      padding: 1rem;\r\n      h3 {\r\n        font-size: 1rem;\r\n        padding: 0.8rem 0rem;\r\n      }\r\n\r\n      .icons {\r\n        color: rgba(0, 0, 0, 0.6);\r\n        margin: 0rem 1rem;\r\n      }\r\n    }\r\n  }\r\n  .register {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    .register-form {\r\n      flex-direction: column;\r\n    }\r\n    .input {\r\n      width: 42vh;\r\n    }\r\n\r\n    .name {\r\n      display: flex;\r\n      .name-input {\r\n        flex: 1;\r\n        margin-right: 1rem;\r\n      }\r\n    }\r\n  }\r\n`;\r\nexport default AccountPage;\r\n"]},"metadata":{},"sourceType":"module"}