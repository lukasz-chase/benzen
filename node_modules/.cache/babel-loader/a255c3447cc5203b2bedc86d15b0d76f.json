{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\lukas\\\\Desktop\\\\Programowanko\\\\Projekty\\\\benzen\\\\client\\\\src\\\\components\\\\Order.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\"; //styling\n\nimport styled from \"styled-components\"; //router\n\nimport { Link } from \"react-router-dom\";\nimport { useLocation } from \"react-router\"; //material ui\n\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\"; //axios\n\nimport axios from \"axios\"; //actions\n\nimport { loadSpecificOrder } from \"../actions/ordersAction\"; //redux\n\nimport { useDispatch, useSelector } from \"react-redux\"; //components\n\nimport Button from \"../components/Button\";\n\nconst Order = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const pathId = location.pathname.split(\"/\")[4];\n  const adminPanel = location.pathname.split(\"/\")[1];\n  useEffect(() => {\n    dispatch(loadSpecificOrder(pathId));\n  }, [pathId, dispatch]);\n  const {\n    order,\n    isLoading\n  } = useSelector(state => state.orders);\n  const [orderStatus, setOrderStatus] = useState(\"\");\n\n  const ordersStatusHandler = e => {\n    setOrderStatus(e.target.value);\n  };\n\n  const changeOrdersStatus = id => {\n    if (orderStatus !== \"\") {\n      axios.put(`https://benzen-server.herokuapp.com/orders/${id}/`, {\n        items: order.items,\n        date: order.date,\n        time: order.time,\n        usersId: order.usersId,\n        status: orderStatus,\n        delivery: order.delivery,\n        cartPrice: order.cartPrice,\n        deliveryPrice: order.deliveryPrice,\n        payment: order.payment,\n        address: order.address\n      }).then(resp => {\n        dispatch(loadSpecificOrder(id));\n      }).catch(error => {});\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(OrdersComponent, {\n    children: !isLoading && order.items && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"specific-order\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"NR \", order.id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Ordered: \", order.date, \" \", order.time]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [order.items.length, \" Items \", order.status]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this), adminPanel === \"admin\" && /*#__PURE__*/_jsxDEV(FormControl, {\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            className: \"sort-label\",\n            children: \"Change orders status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            value: orderStatus,\n            onChange: ordersStatusHandler,\n            className: \"sort-select\",\n            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"new\",\n              children: \"new\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"packing\",\n              children: \"packing\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"sent\",\n              children: \"sent\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"received\",\n              children: \"received\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => changeOrdersStatus(order.id),\n            label: \"Change\",\n            variant: \"black\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }, this), adminPanel === \"admin\" && /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Users-id: \", order.usersId, \" \", /*#__PURE__*/_jsxDEV(Link, {\n            to: `/admin/panel/users/${order.usersId}`,\n            className: \"link\",\n            children: \"details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"items\",\n          children: order.items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"left-item\",\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: `/${item.gender}/${item.id}`,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: item.images[0].img,\n                  alt: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-details\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: `/${item.gender}/${item.id}`,\n                  className: \"link\",\n                  children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: item.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"size: \", item.size]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 23\n                }, this), item.cartAmount > 1 && /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Amount: \", item.cartAmount]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"right-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: item.discount === \"true\" || item.discount === true ? \"red\" : \"black\"\n                },\n                children: [(item.price * item.cartAmount).toFixed(2), \" GBP\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  display: item.discount === \"true\" || item.discount === true ? \"block\" : \"none\",\n                  textDecoration: \"line-through\"\n                },\n                children: [item.beforeDiscount, \" GBP\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 19\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-price\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"payment\",\n            children: order.payment\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"price\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-price\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Price:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [order.cartPrice, \" GBP\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"shipping-price\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [order.delivery, \":\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [order.deliveryPrice, \" GBP\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"full-price\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Total with vat:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [(order.cartPrice + order.deliveryPrice).toFixed(2), \" GBP\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-address\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Shipping address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [order.address[0].name, \" \", order.address[0].surname]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [order.address[0].street, \" \", order.address[0].houseNr]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [order.address[0].postalCode, \" \", order.address[0].city]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Order, \"NS32I9uH+lr+cS4SPhLodL1qzLg=\", false, function () {\n  return [useDispatch, useLocation, useSelector];\n});\n\n_c = Order;\nconst OrdersComponent = styled.div`\n  .specific-order {\n    margin-left: 2rem;\n    display: flex;\n    flex-direction: column;\n    font-size: 1.5rem;\n    @media screen and (max-width: 1000px) {\n      margin-left: 0;\n    }\n    .order-details {\n      display: flex;\n      flex-direction: column;\n      margin-top: 1rem;\n      .sort-select {\n        @media screen and (max-width: 1000px) {\n          width: 100%;\n        }\n      }\n      .items {\n        margin: 1rem 0;\n        padding: 1rem 0;\n        border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n        border-top: 1px solid rgba(0, 0, 0, 0.2);\n        .item {\n          display: flex;\n          justify-content: space-between;\n          padding: 0.5rem 0;\n          .left-item {\n            display: flex;\n            img {\n              height: 10rem;\n              width: 8rem;\n              @media screen and (max-width: 1000px) {\n                height: 8rem;\n                width: 6rem;\n              }\n            }\n            .item-details {\n              display: flex;\n              flex-direction: column;\n              margin-left: 5px;\n              h3 {\n                @media screen and (max-width: 1000px) {\n                  font-size: 1rem;\n                }\n              }\n\n              span {\n                padding: 1rem 0;\n                color: rgba(0, 0, 0, 0.6);\n                @media screen and (max-width: 1000px) {\n                  font-size: 0.8rem;\n                }\n              }\n            }\n          }\n          .right-item {\n            @media screen and (max-width: 1000px) {\n              font-size: 1rem;\n              margin: 0 4px;\n            }\n          }\n        }\n      }\n      .order-price {\n        display: flex;\n        justify-content: space-between;\n        margin: 1rem 0;\n        border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n        .price {\n          width: 50%;\n          display: flex;\n          justify-content: space-evenly;\n          flex-direction: column;\n          @media screen and (max-width: 1000px) {\n            width: 60%;\n            font-size: 1.1rem;\n          }\n          .cart-price {\n            display: flex;\n            justify-content: space-between;\n          }\n          .shipping-price {\n            display: flex;\n            justify-content: space-between;\n          }\n          .full-price {\n            display: flex;\n            justify-content: space-between;\n          }\n        }\n      }\n      .order-address {\n        display: flex;\n        flex-direction: column;\n        font-size: 1rem;\n        span {\n          padding: 0.5rem 0;\n        }\n      }\n    }\n  }\n`;\n_c2 = OrdersComponent;\nexport default Order;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Order\");\n$RefreshReg$(_c2, \"OrdersComponent\");","map":{"version":3,"sources":["C:/Users/lukas/Desktop/Programowanko/Projekty/benzen/client/src/components/Order.js"],"names":["React","useState","useEffect","styled","Link","useLocation","InputLabel","MenuItem","FormControl","Select","axios","loadSpecificOrder","useDispatch","useSelector","Button","Order","dispatch","location","pathId","pathname","split","adminPanel","order","isLoading","state","orders","orderStatus","setOrderStatus","ordersStatusHandler","e","target","value","changeOrdersStatus","id","put","items","date","time","usersId","status","delivery","cartPrice","deliveryPrice","payment","address","then","resp","catch","error","length","map","item","gender","images","img","name","size","cartAmount","color","discount","price","toFixed","display","textDecoration","beforeDiscount","surname","street","houseNr","postalCode","city","OrdersComponent","div"],"mappings":"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A;AAAA;AAAA;AAAA;AAAA,gBAzGF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,UADF;AA8HD,CAhKD;;GAAMtD,K;UACaH,W,EACAP,W,EAMYQ,W;;;KARzBE,K;AAkKN,MAAMuD,eAAe,GAAGnE,MAAM,CAACoE,GAAI;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAtGA;MAAMD,e;AAwGN,eAAevD,KAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n//styling\r\nimport styled from \"styled-components\";\r\n//router\r\nimport { Link } from \"react-router-dom\";\r\nimport { useLocation } from \"react-router\";\r\n//material ui\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\n//axios\r\nimport axios from \"axios\";\r\n//actions\r\nimport { loadSpecificOrder } from \"../actions/ordersAction\";\r\n//redux\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n//components\r\nimport Button from \"../components/Button\";\r\n\r\nconst Order = () => {\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n  const pathId = location.pathname.split(\"/\")[4];\r\n  const adminPanel = location.pathname.split(\"/\")[1];\r\n  useEffect(() => {\r\n    dispatch(loadSpecificOrder(pathId));\r\n  }, [pathId, dispatch]);\r\n  const { order, isLoading } = useSelector((state) => state.orders);\r\n  const [orderStatus, setOrderStatus] = useState(\"\");\r\n  const ordersStatusHandler = (e) => {\r\n    setOrderStatus(e.target.value);\r\n  };\r\n  const changeOrdersStatus = (id) => {\r\n    if (orderStatus !== \"\") {\r\n      axios\r\n        .put(`https://benzen-server.herokuapp.com/orders/${id}/`, {\r\n          items: order.items,\r\n          date: order.date,\r\n          time: order.time,\r\n          usersId: order.usersId,\r\n          status: orderStatus,\r\n          delivery: order.delivery,\r\n          cartPrice: order.cartPrice,\r\n          deliveryPrice: order.deliveryPrice,\r\n          payment: order.payment,\r\n          address: order.address,\r\n        })\r\n        .then((resp) => {\r\n          dispatch(loadSpecificOrder(id));\r\n        })\r\n        .catch((error) => {});\r\n    }\r\n  };\r\n  return (\r\n    <OrdersComponent>\r\n      {!isLoading && order.items && (\r\n        <div className=\"specific-order\">\r\n          <div className=\"order-details\">\r\n            <h2>NR {order.id}</h2>\r\n            <span>\r\n              Ordered: {order.date} {order.time}\r\n            </span>\r\n            <h2>\r\n              {order.items.length} Items {order.status}\r\n            </h2>\r\n\r\n            {adminPanel === \"admin\" && (\r\n              <FormControl>\r\n                <InputLabel className=\"sort-label\">\r\n                  Change orders status\r\n                </InputLabel>\r\n                <Select\r\n                  value={orderStatus}\r\n                  onChange={ordersStatusHandler}\r\n                  className=\"sort-select\"\r\n                >\r\n                  <MenuItem value=\"new\">new</MenuItem>\r\n                  <MenuItem value=\"packing\">packing</MenuItem>\r\n                  <MenuItem value=\"sent\">sent</MenuItem>\r\n                  <MenuItem value=\"received\">received</MenuItem>\r\n                </Select>\r\n\r\n                <Button\r\n                  onClick={() => changeOrdersStatus(order.id)}\r\n                  label=\"Change\"\r\n                  variant=\"black\"\r\n                />\r\n              </FormControl>\r\n            )}\r\n            {adminPanel === \"admin\" && (\r\n              <span>\r\n                Users-id: {order.usersId}{\" \"}\r\n                <Link\r\n                  to={`/admin/panel/users/${order.usersId}`}\r\n                  className=\"link\"\r\n                >\r\n                  details\r\n                </Link>\r\n              </span>\r\n            )}\r\n            <div className=\"items\">\r\n              {order.items.map((item) => (\r\n                <div className=\"item\" key={item.id}>\r\n                  <div className=\"left-item\">\r\n                    <Link to={`/${item.gender}/${item.id}`}>\r\n                      <img src={item.images[0].img} alt={item.name} />\r\n                    </Link>\r\n                    <div className=\"item-details\">\r\n                      <Link to={`/${item.gender}/${item.id}`} className=\"link\">\r\n                        <h3>{item.name}</h3>\r\n                      </Link>\r\n                      <span>size: {item.size}</span>\r\n                      {item.cartAmount > 1 && (\r\n                        <span>Amount: {item.cartAmount}</span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"right-item\">\r\n                    <span\r\n                      style={{\r\n                        color:\r\n                          item.discount === \"true\" || item.discount === true\r\n                            ? \"red\"\r\n                            : \"black\",\r\n                      }}\r\n                    >\r\n                      {(item.price * item.cartAmount).toFixed(2)} GBP\r\n                    </span>\r\n                    <span\r\n                      style={{\r\n                        display:\r\n                          item.discount === \"true\" || item.discount === true\r\n                            ? \"block\"\r\n                            : \"none\",\r\n                        textDecoration: \"line-through\",\r\n                      }}\r\n                    >\r\n                      {item.beforeDiscount} GBP\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <div className=\"order-price\">\r\n              <div className=\"payment\">{order.payment}</div>\r\n              <div className=\"price\">\r\n                <div className=\"cart-price\">\r\n                  <span>Price:</span>\r\n                  <span>{order.cartPrice} GBP</span>\r\n                </div>\r\n                <div className=\"shipping-price\">\r\n                  <span>{order.delivery}:</span>\r\n                  <span>{order.deliveryPrice} GBP</span>\r\n                </div>\r\n                <div className=\"full-price\">\r\n                  <span>Total with vat:</span>\r\n                  <span>\r\n                    {(order.cartPrice + order.deliveryPrice).toFixed(2)} GBP\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"order-address\">\r\n              <h2>Shipping address</h2>\r\n              <span>\r\n                {order.address[0].name} {order.address[0].surname}\r\n              </span>\r\n              <span>\r\n                {order.address[0].street} {order.address[0].houseNr}\r\n              </span>\r\n              <span>\r\n                {order.address[0].postalCode} {order.address[0].city}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </OrdersComponent>\r\n  );\r\n};\r\n\r\nconst OrdersComponent = styled.div`\r\n  .specific-order {\r\n    margin-left: 2rem;\r\n    display: flex;\r\n    flex-direction: column;\r\n    font-size: 1.5rem;\r\n    @media screen and (max-width: 1000px) {\r\n      margin-left: 0;\r\n    }\r\n    .order-details {\r\n      display: flex;\r\n      flex-direction: column;\r\n      margin-top: 1rem;\r\n      .sort-select {\r\n        @media screen and (max-width: 1000px) {\r\n          width: 100%;\r\n        }\r\n      }\r\n      .items {\r\n        margin: 1rem 0;\r\n        padding: 1rem 0;\r\n        border-bottom: 1px solid rgba(0, 0, 0, 0.2);\r\n        border-top: 1px solid rgba(0, 0, 0, 0.2);\r\n        .item {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          padding: 0.5rem 0;\r\n          .left-item {\r\n            display: flex;\r\n            img {\r\n              height: 10rem;\r\n              width: 8rem;\r\n              @media screen and (max-width: 1000px) {\r\n                height: 8rem;\r\n                width: 6rem;\r\n              }\r\n            }\r\n            .item-details {\r\n              display: flex;\r\n              flex-direction: column;\r\n              margin-left: 5px;\r\n              h3 {\r\n                @media screen and (max-width: 1000px) {\r\n                  font-size: 1rem;\r\n                }\r\n              }\r\n\r\n              span {\r\n                padding: 1rem 0;\r\n                color: rgba(0, 0, 0, 0.6);\r\n                @media screen and (max-width: 1000px) {\r\n                  font-size: 0.8rem;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          .right-item {\r\n            @media screen and (max-width: 1000px) {\r\n              font-size: 1rem;\r\n              margin: 0 4px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .order-price {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        margin: 1rem 0;\r\n        border-bottom: 1px solid rgba(0, 0, 0, 0.2);\r\n        .price {\r\n          width: 50%;\r\n          display: flex;\r\n          justify-content: space-evenly;\r\n          flex-direction: column;\r\n          @media screen and (max-width: 1000px) {\r\n            width: 60%;\r\n            font-size: 1.1rem;\r\n          }\r\n          .cart-price {\r\n            display: flex;\r\n            justify-content: space-between;\r\n          }\r\n          .shipping-price {\r\n            display: flex;\r\n            justify-content: space-between;\r\n          }\r\n          .full-price {\r\n            display: flex;\r\n            justify-content: space-between;\r\n          }\r\n        }\r\n      }\r\n      .order-address {\r\n        display: flex;\r\n        flex-direction: column;\r\n        font-size: 1rem;\r\n        span {\r\n          padding: 0.5rem 0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Order;\r\n"]},"metadata":{},"sourceType":"module"}