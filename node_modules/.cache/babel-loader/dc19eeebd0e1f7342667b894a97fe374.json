{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\lukas\\\\Desktop\\\\Programowanko\\\\Projekty\\\\benzen\\\\client\\\\src\\\\pages\\\\CartPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\"; //styling\n\nimport styled from \"styled-components\"; //router\n\nimport { Link } from \"react-router-dom\"; //actions\n\nimport { changeCartPrice, setDiscount } from \"../actions/cartActions\";\nimport { loadUsersOrders } from \"../actions/ordersAction\"; //redux\n\nimport { useDispatch, useSelector } from \"react-redux\"; //material ui\n\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport TextField from \"@material-ui/core/TextField\"; //icons\n\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CloseIcon from \"@material-ui/icons/Close\"; //components\n\nimport Button from \"../components/Button\";\n\nconst CartPage = () => {\n  _s();\n\n  const [discountInput, setDiscountInput] = useState(\"\");\n  const [discountErrorMsg, setDiscountErrorMsg] = useState(\"\");\n  const [discountError, setDiscountError] = useState(false);\n  const [discountBanner, setDiscountBanner] = useState(true);\n  const [PriceBeforeDiscounts, setPriceBeforeDiscounts] = useState(0);\n  const dispatch = useDispatch();\n  const {\n    cart,\n    cartPrice,\n    discount\n  } = useSelector(state => state.cart);\n  console.log(cart);\n  const user = JSON.parse(localStorage.getItem(\"profile\"));\n  useEffect(() => {\n    if (user) {\n      dispatch(loadUsersOrders(user.id));\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [dispatch]);\n  const {\n    userOrders\n  } = useSelector(state => state.orders);\n  useEffect(() => {\n    if (cart) {\n      if (cart.length === 1) {\n        dispatch(changeCartPrice(cart[0].price * cart[0].cartAmount));\n      } else if (cart.length > 1) {\n        dispatch(changeCartPrice(cart.reduce(function (a, s) {\n          return a += s.price * s.cartAmount;\n        }, 0)));\n      } else {\n        return;\n      }\n    }\n  }, [cart, discount, dispatch]);\n  useEffect(() => {\n    setPriceBeforeDiscounts(cart.reduce(function (a, b) {\n      return b.discount ? a += b.beforeDiscount * b.cartAmount : a += b.price * b.cartAmount;\n    }, 0));\n  }, [cart]);\n  useEffect(() => {\n    if (discount) {\n      cart.forEach(item => !item.discount ? dispatch({\n        type: \"CHANGE_PRICE\",\n        payload: {\n          id: item.id,\n          size: item.size\n        }\n      }) : \"\");\n    }\n  }, [cart, discount, dispatch]); //handlers\n\n  const amountHandler = (type, id, amount, size) => {\n    dispatch({\n      type: type,\n      payload: {\n        id: id,\n        amount: amount,\n        size: size\n      }\n    });\n  };\n\n  const removeHandler = (id, size) => {\n    dispatch({\n      type: \"REMOVE\",\n      payload: {\n        id: id,\n        size: size\n      }\n    });\n  };\n\n  const discountHandler = () => {\n    if (!discount) {\n      if (discountInput === \"DISCOUNT10\" || discountInput === \"discount10\") {\n        if (user) {\n          if (userOrders.length === 0) {\n            cart.forEach(item => !item.discount ? dispatch({\n              type: \"CHANGE_PRICE\",\n              payload: {\n                id: item.id\n              }\n            }) : \"\");\n            setDiscountError(false);\n            dispatch(setDiscount(true));\n          } else {\n            setDiscountErrorMsg(`this coupon code was only for first order`);\n            setDiscountError(true);\n          }\n        } else {\n          setDiscountErrorMsg(`this coupon code works only for logged users`);\n          setDiscountError(true);\n        }\n      } else {\n        setDiscountErrorMsg(`coupon code ${discountInput} is not valid`);\n        setDiscountError(true);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(CartPageComponent, {\n    children: cart.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty-cart\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Your cart is empty\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"continue shopping\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttons\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/woman\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            label: \"Women\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/man\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            label: \"Men\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: cart && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-with-items\",\n        children: [user && discountBanner && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"discount-banner\",\n          style: {\n            display: userOrders.length === 0 ? \"flex\" : \"none\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"enter a discount code \\\"DISCOUNT10\\\" and get 10% off your first order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"doesn't work with other discounts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(CloseIcon, {\n            className: \"close-banner-icon\",\n            onClick: () => setDiscountBanner(!discountBanner)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-view\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"itemsDisplay\",\n            children: cart.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-info\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: `/${item.gender}/${item.id}`,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"image\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: item.images[0].url,\n                      alt: item.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 168,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"info-details\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                      children: item.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 173,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"Size: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: item.size\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 175,\n                        columnNumber: 37\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"amount\",\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      className: \"amount-change\",\n                      onClick: () => amountHandler(\"DECREASE\", item.id, item.cartAmount, item.size),\n                      children: \"-\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 179,\n                      columnNumber: 29\n                    }, this), \" \", item.cartAmount, \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                      className: \"amount-change\",\n                      onClick: () => amountHandler(\"INCREASE\", item.id, item.cartAmount, item.size),\n                      children: \"+\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 193,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-remove\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"remove\",\n                  children: /*#__PURE__*/_jsxDEV(DeleteOutlineIcon, {\n                    onClick: () => removeHandler(item.id, item.size)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"price\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: item.discount === \"true\" || item.discount === true ? \"red\" : \"black\"\n                    },\n                    children: [(item.cartAmount * item.price).toFixed(2), \" GBP\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      display: item.discount === \"true\" || item.discount === true ? \"flex\" : \"none\",\n                      textDecoration: \"line-through\"\n                    },\n                    children: [(item.cartAmount * item.beforeDiscount).toFixed(2), \" \", \"GBP\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 23\n              }, this)]\n            }, item.id + index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"full-price\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"products price:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"price\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: discount ? \"red\" : \"black\"\n                  },\n                  children: [cartPrice, \" GBP\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    display: cart.find(i => i.discount === true || i.discount === \"true\") ? \"block\" : \"none\",\n                    textDecoration: \"line-through\"\n                  },\n                  children: [PriceBeforeDiscounts.toFixed(2), \"GBP\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 23\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"checkout-button\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: user ? \"/checkout/order\" : \"/customer/account/login/order\",\n                className: \"link\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  label: \"Go to checkout\",\n                  variant: \"black\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"coupon\",\n              children: /*#__PURE__*/_jsxDEV(Accordion, {\n                className: \"accordion\",\n                children: [/*#__PURE__*/_jsxDEV(AccordionSummary, {\n                  expandIcon: /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 37\n                  }, this),\n                  className: \"accordion-header\",\n                  children: \"i have a coupon code\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(AccordionDetails, {\n                  className: \"accordion-details\",\n                  children: [/*#__PURE__*/_jsxDEV(TextField, {\n                    className: \"input\",\n                    value: discountInput,\n                    error: discountError ? true : false,\n                    onChange: e => setDiscountInput(e.target.value),\n                    onKeyDown: e => e.key === \"Enter\" ? discountHandler() : \"\",\n                    helperText: discountError ? discountErrorMsg : \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    label: \"Add\",\n                    onClick: () => discountHandler()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }, this)\n    }, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CartPage, \"aRa1HFOBBekZ2dIVN5SEcvrFA9U=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = CartPage;\nconst CartPageComponent = styled.div`\n  min-height: 50vh;\n  font-size: 1.5rem;\n  .empty-cart {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    margin-top: 2rem;\n    .buttons {\n      border: 1px solid black;\n    }\n  }\n  .cart-with-items {\n    display: flex;\n    flex-direction: column;\n    .discount-banner {\n      position: relative;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      text-align: center;\n      background-color: rgba(0, 0, 0, 0.2);\n      color: white;\n\n      span {\n        font-size: 1rem;\n        @media screen and (max-width: 1000px) {\n          font-size: 0.6rem;\n        }\n      }\n      p {\n        font-size: 0.6rem;\n        @media screen and (max-width: 1000px) {\n          font-size: 0.4rem;\n        }\n      }\n      .close-banner-icon {\n        position: absolute;\n        right: 0;\n        top: 0;\n        margin: 0.5rem;\n        color: white;\n        transition: 0.3s ease-in all;\n        @media screen and (max-width: 1000px) {\n          font-size: 1rem;\n        }\n        &:hover {\n          cursor: pointer;\n          color: tomato;\n        }\n      }\n    }\n    .cart-view {\n      display: flex;\n      min-height: 50vh;\n      @media screen and (max-width: 1000px) {\n        flex-direction: column;\n      }\n      .itemsDisplay {\n        width: 70%;\n        display: flex;\n        align-items: flex-end;\n        flex-direction: column;\n        margin: 0rem 1rem;\n        @media screen and (max-width: 1000px) {\n          width: 100%;\n        }\n        .item {\n          width: 90%;\n          display: flex;\n          justify-content: space-between;\n          padding: 1rem 0rem;\n          margin: 1rem 0rem;\n          border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n          @media screen and (max-width: 1000px) {\n            width: 100%;\n          }\n          .item-info {\n            display: flex;\n            h2 {\n              font-size: 1rem;\n              font-weight: bold;\n            }\n            span {\n              font-size: 1rem;\n              color: rgba(0, 0, 0, 0.6);\n              b {\n                text-transform: upperCase;\n                font-weight: normal;\n              }\n            }\n            .image {\n              img {\n                height: 9rem;\n                width: 7rem;\n                object-fit: cover;\n              }\n            }\n            .info {\n              display: flex;\n              flex-direction: column;\n              justify-content: space-between;\n              margin: 0px 15px;\n              .info-details {\n              }\n              .amount {\n                .amount-change {\n                  font-size: 2rem;\n                  &:hover {\n                    cursor: pointer;\n                  }\n                }\n              }\n            }\n          }\n          .item-remove {\n            display: flex;\n            flex-direction: column;\n            justify-content: space-between;\n            align-items: center;\n            .remove {\n              transition: 0.2s ease-in all;\n              padding-right: 1px;\n              &:hover {\n                cursor: pointer;\n                color: tomato;\n              }\n            }\n            .price {\n              display: flex;\n              font-size: 1rem;\n              span {\n                margin-right: 20px;\n              }\n              @media screen and (max-width: 1000px) {\n                font-size: 0.7rem;\n                flex-direction: column;\n              }\n            }\n          }\n        }\n      }\n      .cart-info {\n        width: 30%;\n        background-color: #f3f3f5;\n        display: flex;\n        justify-content: center;\n        flex-direction: column;\n        align-items: Center;\n        @media screen and (max-width: 1000px) {\n          width: 100%;\n        }\n        .full-price {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          flex-direction: column;\n          width: 70%;\n          font-size: 1.5rem;\n\n          @media screen and (max-width: 1000px) {\n            margin-top: 1rem;\n            font-size: 1rem;\n            width: 100%;\n          }\n          .price {\n            margin-top: 1rem;\n            display: flex;\n            width: 100%;\n            justify-content: space-evenly;\n            @media screen and (max-width: 1000px) {\n              margin-top: 0.5rem;\n            }\n          }\n        }\n        .checkout-button {\n          width: 70%;\n          @media screen and (max-width: 1000px) {\n            font-size: 1rem;\n            width: 100%;\n          }\n        }\n        .coupon {\n          width: 70%;\n          @media screen and (max-width: 1000px) {\n            font-size: 1rem;\n            width: 100%;\n          }\n          .accordion {\n            width: 100%;\n            font-size: 1rem;\n            .accordion-details {\n              display: flex;\n              align-items: center;\n              .input {\n                width: 100%;\n                margin-right: 15px;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n_c2 = CartPageComponent;\nexport default CartPage;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CartPage\");\n$RefreshReg$(_c2, \"CartPageComponent\");","map":{"version":3,"sources":["C:/Users/lukas/Desktop/Programowanko/Projekty/benzen/client/src/pages/CartPage.js"],"names":["React","useState","useEffect","styled","Link","changeCartPrice","setDiscount","loadUsersOrders","useDispatch","useSelector","Accordion","AccordionSummary","AccordionDetails","TextField","ExpandMoreIcon","DeleteOutlineIcon","CloseIcon","Button","CartPage","discountInput","setDiscountInput","discountErrorMsg","setDiscountErrorMsg","discountError","setDiscountError","discountBanner","setDiscountBanner","PriceBeforeDiscounts","setPriceBeforeDiscounts","dispatch","cart","cartPrice","discount","state","console","log","user","JSON","parse","localStorage","getItem","id","userOrders","orders","length","price","cartAmount","reduce","a","s","b","beforeDiscount","forEach","item","type","payload","size","amountHandler","amount","removeHandler","discountHandler","display","map","index","gender","images","url","name","color","toFixed","textDecoration","find","i","e","target","value","key","CartPageComponent","div"],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CA9MA;MAAMD,iB;AAgNN,eAAe3D,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n//styling\r\nimport styled from \"styled-components\";\r\n//router\r\nimport { Link } from \"react-router-dom\";\r\n//actions\r\nimport { changeCartPrice, setDiscount } from \"../actions/cartActions\";\r\nimport { loadUsersOrders } from \"../actions/ordersAction\";\r\n//redux\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n//material ui\r\nimport Accordion from \"@material-ui/core/Accordion\";\r\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\r\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n//icons\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n//components\r\nimport Button from \"../components/Button\";\r\n\r\nconst CartPage = () => {\r\n  const [discountInput, setDiscountInput] = useState(\"\");\r\n  const [discountErrorMsg, setDiscountErrorMsg] = useState(\"\");\r\n  const [discountError, setDiscountError] = useState(false);\r\n  const [discountBanner, setDiscountBanner] = useState(true);\r\n  const [PriceBeforeDiscounts, setPriceBeforeDiscounts] = useState(0);\r\n  const dispatch = useDispatch();\r\n  const { cart, cartPrice, discount } = useSelector((state) => state.cart);\r\n  console.log(cart);\r\n  const user = JSON.parse(localStorage.getItem(\"profile\"));\r\n  useEffect(() => {\r\n    if (user) {\r\n      dispatch(loadUsersOrders(user.id));\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [dispatch]);\r\n  const { userOrders } = useSelector((state) => state.orders);\r\n  useEffect(() => {\r\n    if (cart) {\r\n      if (cart.length === 1) {\r\n        dispatch(changeCartPrice(cart[0].price * cart[0].cartAmount));\r\n      } else if (cart.length > 1) {\r\n        dispatch(\r\n          changeCartPrice(\r\n            cart.reduce(function (a, s) {\r\n              return (a += s.price * s.cartAmount);\r\n            }, 0)\r\n          )\r\n        );\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n  }, [cart, discount, dispatch]);\r\n  useEffect(() => {\r\n    setPriceBeforeDiscounts(\r\n      cart.reduce(function (a, b) {\r\n        return b.discount\r\n          ? (a += b.beforeDiscount * b.cartAmount)\r\n          : (a += b.price * b.cartAmount);\r\n      }, 0)\r\n    );\r\n  }, [cart]);\r\n  useEffect(() => {\r\n    if (discount) {\r\n      cart.forEach((item) =>\r\n        !item.discount\r\n          ? dispatch({\r\n              type: \"CHANGE_PRICE\",\r\n              payload: { id: item.id, size: item.size },\r\n            })\r\n          : \"\"\r\n      );\r\n    }\r\n  }, [cart, discount, dispatch]);\r\n  //handlers\r\n  const amountHandler = (type, id, amount, size) => {\r\n    dispatch({\r\n      type: type,\r\n      payload: {\r\n        id: id,\r\n        amount: amount,\r\n        size: size,\r\n      },\r\n    });\r\n  };\r\n  const removeHandler = (id, size) => {\r\n    dispatch({\r\n      type: \"REMOVE\",\r\n      payload: {\r\n        id: id,\r\n        size: size,\r\n      },\r\n    });\r\n  };\r\n  const discountHandler = () => {\r\n    if (!discount) {\r\n      if (discountInput === \"DISCOUNT10\" || discountInput === \"discount10\") {\r\n        if (user) {\r\n          if (userOrders.length === 0) {\r\n            cart.forEach((item) =>\r\n              !item.discount\r\n                ? dispatch({ type: \"CHANGE_PRICE\", payload: { id: item.id } })\r\n                : \"\"\r\n            );\r\n            setDiscountError(false);\r\n            dispatch(setDiscount(true));\r\n          } else {\r\n            setDiscountErrorMsg(`this coupon code was only for first order`);\r\n            setDiscountError(true);\r\n          }\r\n        } else {\r\n          setDiscountErrorMsg(`this coupon code works only for logged users`);\r\n          setDiscountError(true);\r\n        }\r\n      } else {\r\n        setDiscountErrorMsg(`coupon code ${discountInput} is not valid`);\r\n        setDiscountError(true);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <CartPageComponent>\r\n      {cart.length === 0 ? (\r\n        <div className=\"empty-cart\">\r\n          <h2>Your cart is empty</h2>\r\n          <p>continue shopping</p>\r\n          <div className=\"buttons\">\r\n            <Link to=\"/woman\">\r\n              <Button label=\"Women\" />\r\n            </Link>\r\n            <Link to=\"/man\">\r\n              <Button label=\"Men\" />\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {cart && (\r\n            <div className=\"cart-with-items\">\r\n              {user && discountBanner && (\r\n                <div\r\n                  className=\"discount-banner\"\r\n                  style={{\r\n                    display: userOrders.length === 0 ? \"flex\" : \"none\",\r\n                  }}\r\n                >\r\n                  <span>\r\n                    enter a discount code \"DISCOUNT10\" and get 10% off your\r\n                    first order\r\n                  </span>\r\n                  <p>doesn't work with other discounts</p>\r\n                  <CloseIcon\r\n                    className=\"close-banner-icon\"\r\n                    onClick={() => setDiscountBanner(!discountBanner)}\r\n                  />\r\n                </div>\r\n              )}\r\n              <div className=\"cart-view\">\r\n                <div className=\"itemsDisplay\">\r\n                  {cart.map((item, index) => (\r\n                    <div className=\"item\" key={item.id + index}>\r\n                      <div className=\"item-info\">\r\n                        <Link to={`/${item.gender}/${item.id}`}>\r\n                          <div className=\"image\">\r\n                            <img src={item.images[0].url} alt={item.name} />\r\n                          </div>\r\n                        </Link>\r\n                        <div className=\"info\">\r\n                          <div className=\"info-details\">\r\n                            <h2>{item.name}</h2>\r\n                            <span>\r\n                              Size: <b>{item.size}</b>\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"amount\">\r\n                            <b\r\n                              className=\"amount-change\"\r\n                              onClick={() =>\r\n                                amountHandler(\r\n                                  \"DECREASE\",\r\n                                  item.id,\r\n                                  item.cartAmount,\r\n                                  item.size\r\n                                )\r\n                              }\r\n                            >\r\n                              -\r\n                            </b>{\" \"}\r\n                            {item.cartAmount}{\" \"}\r\n                            <b\r\n                              className=\"amount-change\"\r\n                              onClick={() =>\r\n                                amountHandler(\r\n                                  \"INCREASE\",\r\n                                  item.id,\r\n                                  item.cartAmount,\r\n                                  item.size\r\n                                )\r\n                              }\r\n                            >\r\n                              +\r\n                            </b>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"item-remove\">\r\n                        <div className=\"remove\">\r\n                          <DeleteOutlineIcon\r\n                            onClick={() => removeHandler(item.id, item.size)}\r\n                          />\r\n                        </div>\r\n                        <div className=\"price\">\r\n                          <span\r\n                            style={{\r\n                              color:\r\n                                item.discount === \"true\" ||\r\n                                item.discount === true\r\n                                  ? \"red\"\r\n                                  : \"black\",\r\n                            }}\r\n                          >\r\n                            {(item.cartAmount * item.price).toFixed(2)} GBP\r\n                          </span>\r\n                          <span\r\n                            style={{\r\n                              display:\r\n                                item.discount === \"true\" ||\r\n                                item.discount === true\r\n                                  ? \"flex\"\r\n                                  : \"none\",\r\n                              textDecoration: \"line-through\",\r\n                            }}\r\n                          >\r\n                            {(item.cartAmount * item.beforeDiscount).toFixed(2)}{\" \"}\r\n                            GBP\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <div className=\"cart-info\">\r\n                  <div className=\"full-price\">\r\n                    <span>products price:</span>\r\n                    <div className=\"price\">\r\n                      <span style={{ color: discount ? \"red\" : \"black\" }}>\r\n                        {cartPrice} GBP\r\n                      </span>\r\n                      <span\r\n                        style={{\r\n                          display: cart.find(\r\n                            (i) => i.discount === true || i.discount === \"true\"\r\n                          )\r\n                            ? \"block\"\r\n                            : \"none\",\r\n                          textDecoration: \"line-through\",\r\n                        }}\r\n                      >\r\n                        {PriceBeforeDiscounts.toFixed(2)}GBP\r\n                      </span>{\" \"}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"checkout-button\">\r\n                    <Link\r\n                      to={\r\n                        user\r\n                          ? \"/checkout/order\"\r\n                          : \"/customer/account/login/order\"\r\n                      }\r\n                      className=\"link\"\r\n                    >\r\n                      <Button label=\"Go to checkout\" variant=\"black\" />\r\n                    </Link>\r\n                  </div>\r\n                  <div className=\"coupon\">\r\n                    <Accordion className=\"accordion\">\r\n                      <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        className=\"accordion-header\"\r\n                      >\r\n                        i have a coupon code\r\n                      </AccordionSummary>\r\n                      <AccordionDetails className=\"accordion-details\">\r\n                        <TextField\r\n                          className=\"input\"\r\n                          value={discountInput}\r\n                          error={discountError ? true : false}\r\n                          onChange={(e) => setDiscountInput(e.target.value)}\r\n                          onKeyDown={(e) =>\r\n                            e.key === \"Enter\" ? discountHandler() : \"\"\r\n                          }\r\n                          helperText={discountError ? discountErrorMsg : \"\"}\r\n                        />\r\n                        <Button label=\"Add\" onClick={() => discountHandler()} />\r\n                      </AccordionDetails>\r\n                    </Accordion>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </CartPageComponent>\r\n  );\r\n};\r\n\r\nconst CartPageComponent = styled.div`\r\n  min-height: 50vh;\r\n  font-size: 1.5rem;\r\n  .empty-cart {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    margin-top: 2rem;\r\n    .buttons {\r\n      border: 1px solid black;\r\n    }\r\n  }\r\n  .cart-with-items {\r\n    display: flex;\r\n    flex-direction: column;\r\n    .discount-banner {\r\n      position: relative;\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      justify-content: center;\r\n      text-align: center;\r\n      background-color: rgba(0, 0, 0, 0.2);\r\n      color: white;\r\n\r\n      span {\r\n        font-size: 1rem;\r\n        @media screen and (max-width: 1000px) {\r\n          font-size: 0.6rem;\r\n        }\r\n      }\r\n      p {\r\n        font-size: 0.6rem;\r\n        @media screen and (max-width: 1000px) {\r\n          font-size: 0.4rem;\r\n        }\r\n      }\r\n      .close-banner-icon {\r\n        position: absolute;\r\n        right: 0;\r\n        top: 0;\r\n        margin: 0.5rem;\r\n        color: white;\r\n        transition: 0.3s ease-in all;\r\n        @media screen and (max-width: 1000px) {\r\n          font-size: 1rem;\r\n        }\r\n        &:hover {\r\n          cursor: pointer;\r\n          color: tomato;\r\n        }\r\n      }\r\n    }\r\n    .cart-view {\r\n      display: flex;\r\n      min-height: 50vh;\r\n      @media screen and (max-width: 1000px) {\r\n        flex-direction: column;\r\n      }\r\n      .itemsDisplay {\r\n        width: 70%;\r\n        display: flex;\r\n        align-items: flex-end;\r\n        flex-direction: column;\r\n        margin: 0rem 1rem;\r\n        @media screen and (max-width: 1000px) {\r\n          width: 100%;\r\n        }\r\n        .item {\r\n          width: 90%;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          padding: 1rem 0rem;\r\n          margin: 1rem 0rem;\r\n          border-bottom: 1px solid rgba(0, 0, 0, 0.2);\r\n          @media screen and (max-width: 1000px) {\r\n            width: 100%;\r\n          }\r\n          .item-info {\r\n            display: flex;\r\n            h2 {\r\n              font-size: 1rem;\r\n              font-weight: bold;\r\n            }\r\n            span {\r\n              font-size: 1rem;\r\n              color: rgba(0, 0, 0, 0.6);\r\n              b {\r\n                text-transform: upperCase;\r\n                font-weight: normal;\r\n              }\r\n            }\r\n            .image {\r\n              img {\r\n                height: 9rem;\r\n                width: 7rem;\r\n                object-fit: cover;\r\n              }\r\n            }\r\n            .info {\r\n              display: flex;\r\n              flex-direction: column;\r\n              justify-content: space-between;\r\n              margin: 0px 15px;\r\n              .info-details {\r\n              }\r\n              .amount {\r\n                .amount-change {\r\n                  font-size: 2rem;\r\n                  &:hover {\r\n                    cursor: pointer;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n          .item-remove {\r\n            display: flex;\r\n            flex-direction: column;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            .remove {\r\n              transition: 0.2s ease-in all;\r\n              padding-right: 1px;\r\n              &:hover {\r\n                cursor: pointer;\r\n                color: tomato;\r\n              }\r\n            }\r\n            .price {\r\n              display: flex;\r\n              font-size: 1rem;\r\n              span {\r\n                margin-right: 20px;\r\n              }\r\n              @media screen and (max-width: 1000px) {\r\n                font-size: 0.7rem;\r\n                flex-direction: column;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .cart-info {\r\n        width: 30%;\r\n        background-color: #f3f3f5;\r\n        display: flex;\r\n        justify-content: center;\r\n        flex-direction: column;\r\n        align-items: Center;\r\n        @media screen and (max-width: 1000px) {\r\n          width: 100%;\r\n        }\r\n        .full-price {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          flex-direction: column;\r\n          width: 70%;\r\n          font-size: 1.5rem;\r\n\r\n          @media screen and (max-width: 1000px) {\r\n            margin-top: 1rem;\r\n            font-size: 1rem;\r\n            width: 100%;\r\n          }\r\n          .price {\r\n            margin-top: 1rem;\r\n            display: flex;\r\n            width: 100%;\r\n            justify-content: space-evenly;\r\n            @media screen and (max-width: 1000px) {\r\n              margin-top: 0.5rem;\r\n            }\r\n          }\r\n        }\r\n        .checkout-button {\r\n          width: 70%;\r\n          @media screen and (max-width: 1000px) {\r\n            font-size: 1rem;\r\n            width: 100%;\r\n          }\r\n        }\r\n        .coupon {\r\n          width: 70%;\r\n          @media screen and (max-width: 1000px) {\r\n            font-size: 1rem;\r\n            width: 100%;\r\n          }\r\n          .accordion {\r\n            width: 100%;\r\n            font-size: 1rem;\r\n            .accordion-details {\r\n              display: flex;\r\n              align-items: center;\r\n              .input {\r\n                width: 100%;\r\n                margin-right: 15px;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default CartPage;\r\n"]},"metadata":{},"sourceType":"module"}