{"ast":null,"code":"import * as api from \"../api\";\nimport { CREATE, FETCH_ITEM, START_LOADING, END_LOADING, FETCH_ALL, FETCH_BY_ITEM, FETCH_BY_SEARCH, FETCH_ON_SALE, UPDATE_ITEM, DELETE, GET_FAVORITES } from \"../constants/actionTypes\"; //action creator\n\nexport const getItems = gender => async dispatch => {\n  try {\n    dispatch({\n      type: START_LOADING\n    });\n    const {\n      data\n    } = await api.getItems(gender);\n    dispatch({\n      type: FETCH_ALL,\n      payload: data\n    });\n    dispatch({\n      type: END_LOADING\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getItemsByItem = (gender, item, order, page) => async dispatch => {\n  try {\n    dispatch({\n      type: START_LOADING\n    });\n    const {\n      data: {\n        data,\n        currentPage,\n        numberOfPages\n      }\n    } = await api.getItemsByItem(gender, item, order, page);\n    dispatch({\n      type: FETCH_BY_ITEM,\n      payload: {\n        data,\n        currentPage,\n        numberOfPages\n      }\n    });\n    dispatch({\n      type: END_LOADING\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getItemsBySearch = (gender, search) => async dispatch => {\n  try {\n    dispatch({\n      type: START_LOADING\n    });\n    const {\n      data\n    } = await api.getItemsBySearch(gender, search);\n    dispatch({\n      type: FETCH_BY_SEARCH,\n      payload: data\n    });\n    dispatch({\n      type: END_LOADING\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getItemsOnSale = (gender, item, page, sort) => async dispatch => {\n  try {\n    dispatch({\n      type: START_LOADING\n    });\n    const {\n      data: {\n        data,\n        currentPage,\n        numberOfPages\n      }\n    } = await api.getItemsOnSale(gender, item, page, sort);\n    dispatch({\n      type: FETCH_ON_SALE,\n      payload: {\n        data,\n        currentPage,\n        numberOfPages\n      }\n    });\n    dispatch({\n      type: END_LOADING\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getItem = id => async dispatch => {\n  try {\n    dispatch({\n      type: START_LOADING\n    });\n    const {\n      data\n    } = await api.getItem(id);\n    dispatch({\n      type: FETCH_ITEM,\n      payload: {\n        item: data\n      }\n    });\n    dispatch({\n      type: END_LOADING\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const createItem = (item, history) => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.createItem(item);\n    dispatch({\n      type: CREATE,\n      payload: data\n    });\n    history.push(`/items/${data._id}/admin`);\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const updateItem = (id, item, history) => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.updateItem(id, item);\n    dispatch({\n      type: UPDATE_ITEM,\n      payload: data\n    });\n    history.push(`/items/${data._id}`);\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const deleteItem = (id, history) => async dispatch => {\n  try {\n    await api.deleteItem(id);\n    dispatch({\n      type: DELETE,\n      payload: id\n    });\n    history.goBack();\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getFavorites = (id, page) => async dispatch => {\n  try {\n    dispatch({\n      type: START_LOADING\n    });\n    const {\n      data: {\n        data,\n        currentPage,\n        numberOfPages\n      }\n    } = await api.getFavoriteItems(id, page);\n    dispatch({\n      type: GET_FAVORITES,\n      payload: {\n        data,\n        currentPage,\n        numberOfPages\n      }\n    });\n    dispatch({\n      type: END_LOADING\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"sources":["C:/Users/lukas/Desktop/Programowanko/Projekty/benzen/client/src/actions/itemsAction.js"],"names":["api","CREATE","FETCH_ITEM","START_LOADING","END_LOADING","FETCH_ALL","FETCH_BY_ITEM","FETCH_BY_SEARCH","FETCH_ON_SALE","UPDATE_ITEM","DELETE","GET_FAVORITES","getItems","gender","dispatch","type","data","payload","error","console","log","getItemsByItem","item","order","page","currentPage","numberOfPages","getItemsBySearch","search","getItemsOnSale","sort","getItem","id","createItem","history","push","_id","updateItem","deleteItem","goBack","getFavorites","getFavoriteItems"],"mappings":"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","sourcesContent":["import * as api from \"../api\";\r\nimport {\r\n  CREATE,\r\n  FETCH_ITEM,\r\n  START_LOADING,\r\n  END_LOADING,\r\n  FETCH_ALL,\r\n  FETCH_BY_ITEM,\r\n  FETCH_BY_SEARCH,\r\n  FETCH_ON_SALE,\r\n  UPDATE_ITEM,\r\n  DELETE,\r\n  GET_FAVORITES,\r\n} from \"../constants/actionTypes\";\r\n\r\n//action creator\r\nexport const getItems = (gender) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING });\r\n    const { data } = await api.getItems(gender);\r\n    dispatch({ type: FETCH_ALL, payload: data });\r\n    dispatch({ type: END_LOADING });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nexport const getItemsByItem =\r\n  (gender, item, order, page) => async (dispatch) => {\r\n    try {\r\n      dispatch({ type: START_LOADING });\r\n      const {\r\n        data: { data, currentPage, numberOfPages },\r\n      } = await api.getItemsByItem(gender, item, order, page);\r\n      dispatch({\r\n        type: FETCH_BY_ITEM,\r\n        payload: { data, currentPage, numberOfPages },\r\n      });\r\n      dispatch({ type: END_LOADING });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\nexport const getItemsBySearch = (gender, search) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING });\r\n    const { data } = await api.getItemsBySearch(gender, search);\r\n    dispatch({ type: FETCH_BY_SEARCH, payload: data });\r\n    dispatch({ type: END_LOADING });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nexport const getItemsOnSale =\r\n  (gender, item, page, sort) => async (dispatch) => {\r\n    try {\r\n      dispatch({ type: START_LOADING });\r\n      const {\r\n        data: { data, currentPage, numberOfPages },\r\n      } = await api.getItemsOnSale(gender, item, page, sort);\r\n      dispatch({\r\n        type: FETCH_ON_SALE,\r\n        payload: { data, currentPage, numberOfPages },\r\n      });\r\n      dispatch({ type: END_LOADING });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\nexport const getItem = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING });\r\n    const { data } = await api.getItem(id);\r\n    dispatch({ type: FETCH_ITEM, payload: { item: data } });\r\n    dispatch({ type: END_LOADING });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const createItem = (item, history) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.createItem(item);\r\n    dispatch({ type: CREATE, payload: data });\r\n    history.push(`/items/${data._id}/admin`);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const updateItem = (id, item, history) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.updateItem(id, item);\r\n    dispatch({ type: UPDATE_ITEM, payload: data });\r\n    history.push(`/items/${data._id}`);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nexport const deleteItem = (id, history) => async (dispatch) => {\r\n  try {\r\n    await api.deleteItem(id);\r\n    dispatch({ type: DELETE, payload: id });\r\n    history.goBack();\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const getFavorites = (id, page) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING });\r\n    const {\r\n      data: { data, currentPage, numberOfPages },\r\n    } = await api.getFavoriteItems(id, page);\r\n    dispatch({\r\n      type: GET_FAVORITES,\r\n      payload: { data, currentPage, numberOfPages },\r\n    });\r\n    dispatch({ type: END_LOADING });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}