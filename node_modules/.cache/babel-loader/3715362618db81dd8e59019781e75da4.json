{"ast":null,"code":"const initState = {\n  cart: [],\n  cartPrice: 0,\n  discount: false\n};\n\nconst cartReducer = (state = initState, action) => {\n  switch (action.type) {\n    case \"ADD_TO_CART\":\n      return { ...state,\n        cart: [...state.cart, action.payload.item]\n      };\n\n    case \"INCREASE\":\n      let tempCart = state.cart.map(cartItem => cartItem.id === action.payload.id && cartItem.size === action.payload.size ? cartItem = { ...cartItem,\n        cartAmount: cartItem.cartAmount + 1\n      } : cartItem);\n      return { ...state,\n        cart: tempCart\n      };\n\n    case \"DECREASE\":\n      let tempCart2 = [];\n\n      if (action.payload.amount === 1) {\n        tempCart2 = state.cart.filter(item => !(item.id === action.payload.id && item.size === action.payload.size));\n      } else {\n        tempCart2 = state.cart.map(cartItem => cartItem.id === action.payload.id && cartItem.size === action.payload.size ? cartItem = { ...cartItem,\n          cartAmount: cartItem.cartAmount - 1\n        } : cartItem);\n      }\n\n      return { ...state,\n        cart: tempCart2\n      };\n\n    case \"REMOVE\":\n      return { ...state,\n        cart: state.cart.filter(item => !(item.id === action.payload.id && item.size === action.payload.size))\n      };\n\n    case \"DISCOUNT\":\n      return { ...state,\n        discount: action.payload.boolean\n      };\n\n    case \"CART_PRICE\":\n      return { ...state,\n        cartPrice: action.payload.price.toFixed(2)\n      };\n\n    case \"CHANGE_PRICE\":\n      const newCart = state.cart.map(item => item.id === action.payload.id && item.size === action.payload.size ? item = { ...item,\n        discount: true,\n        beforeDiscount: item.price,\n        price: item.price * 0.9\n      } : item);\n      return { ...state,\n        cart: newCart\n      };\n\n    default:\n      return { ...state\n      };\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["C:/Users/lukas/Desktop/Programowanko/Projekty/benzen/src/reducers/cartReducer.js"],"names":["initState","cart","cartPrice","discount","cartReducer","state","action","type","payload","item","tempCart","map","cartItem","id","size","cartAmount","tempCart2","amount","filter","boolean","price","toFixed","newCart","beforeDiscount"],"mappings":"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","sourcesContent":["const initState = {\r\n  cart: [],\r\n  cartPrice: 0,\r\n  discount: false,\r\n};\r\n\r\nconst cartReducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case \"ADD_TO_CART\":\r\n      return {\r\n        ...state,\r\n        cart: [...state.cart, action.payload.item],\r\n      };\r\n    case \"INCREASE\":\r\n      let tempCart = state.cart.map((cartItem) =>\r\n        cartItem.id === action.payload.id &&\r\n        cartItem.size === action.payload.size\r\n          ? (cartItem = { ...cartItem, cartAmount: cartItem.cartAmount + 1 })\r\n          : cartItem\r\n      );\r\n      return { ...state, cart: tempCart };\r\n    case \"DECREASE\":\r\n      let tempCart2 = [];\r\n      if (action.payload.amount === 1) {\r\n        tempCart2 = state.cart.filter(\r\n          (item) =>\r\n            !(\r\n              item.id === action.payload.id && item.size === action.payload.size\r\n            )\r\n        );\r\n      } else {\r\n        tempCart2 = state.cart.map((cartItem) =>\r\n          cartItem.id === action.payload.id &&\r\n          cartItem.size === action.payload.size\r\n            ? (cartItem = { ...cartItem, cartAmount: cartItem.cartAmount - 1 })\r\n            : cartItem\r\n        );\r\n      }\r\n      return { ...state, cart: tempCart2 };\r\n    case \"REMOVE\":\r\n      return {\r\n        ...state,\r\n        cart: state.cart.filter(\r\n          (item) =>\r\n            !(\r\n              item.id === action.payload.id && item.size === action.payload.size\r\n            )\r\n        ),\r\n      };\r\n    case \"DISCOUNT\":\r\n      return {\r\n        ...state,\r\n        discount: action.payload.boolean,\r\n      };\r\n    case \"CART_PRICE\":\r\n      return {\r\n        ...state,\r\n        cartPrice: action.payload.price.toFixed(2),\r\n      };\r\n    case \"CHANGE_PRICE\":\r\n      const newCart = state.cart.map((item) =>\r\n        item.id === action.payload.id && item.size === action.payload.size\r\n          ? (item = {\r\n              ...item,\r\n              discount: true,\r\n              beforeDiscount: item.price,\r\n              price: item.price * 0.9,\r\n            })\r\n          : item\r\n      );\r\n      return {\r\n        ...state,\r\n        cart: newCart,\r\n      };\r\n\r\n    default:\r\n      return { ...state };\r\n  }\r\n};\r\n\r\nexport default cartReducer;\r\n"]},"metadata":{},"sourceType":"module"}