{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\lukas\\\\Desktop\\\\Programowanko\\\\Projekty\\\\benzen\\\\client\\\\src\\\\components\\\\Card.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useLayoutEffect } from \"react\"; //styling\n\nimport styled from \"styled-components\"; //icons\n\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\"; //link\n\nimport { Link } from \"react-router-dom\"; //axios\n\nimport axios from \"axios\"; //notistack\n\nimport { useSnackbar } from \"notistack\"; //redux\n\nimport { useSelector, useDispatch } from \"react-redux\"; //actions\n\nimport { loginAction } from \"../actions/loginAction\";\n\nconst Card = ({\n  item,\n  lgHeight,\n  smHeight,\n  smWidth,\n  lgWidth,\n  smMargin,\n  lgMargin,\n  gender,\n  id,\n  adminPanel\n}) => {\n  _s();\n\n  //state\n  const dispatch = useDispatch();\n  const [size, setSize] = useState([0, 0]);\n  const [mv, setMV] = useState(false);\n  const [favorite, setFavorite] = useState(false); //get width\n\n  useLayoutEffect(() => {\n    function updateSize() {\n      setSize([window.innerWidth, window.innerHeight]);\n    }\n\n    window.addEventListener(\"resize\", updateSize);\n    updateSize();\n    return () => window.removeEventListener(\"resize\", updateSize);\n  }, []);\n  useEffect(() => {\n    setMV(window.matchMedia(\"(min-width: 1000px)\").matches);\n  }, [size, mv]); //snack bar\n\n  const {\n    enqueueSnackbar,\n    closeSnackbar\n  } = useSnackbar();\n  useEffect(() => {\n    dispatch(loginAction(localStorage.getItem(\"userId\")));\n  }, [dispatch]); //get data back\n\n  const {\n    user,\n    isLogged\n  } = useSelector(state => state.login);\n  useEffect(() => {\n    if (isLogged) {\n      user.favorites.filter(item => item.id === id ? setFavorite(true) : \"\");\n    }\n  }, [user, id, isLogged]); //handlers\n\n  const snackbarHandler = (snackbarMessage, snackVariant) => {\n    enqueueSnackbar(snackbarMessage, {\n      variant: snackVariant\n    });\n    closeSnackbar(500);\n  }; //this handler checks if favorite is false if so it adds this item to users favorite list, if favorite is true it filters the array\n\n\n  const favoritesHandler = () => {\n    if (favorite === false) {\n      axios.put(`https://benzen-server.herokuapp.com/users/${user.id}/`, {\n        name: user.name,\n        surname: user.surname,\n        email: user.email,\n        password: user.password,\n        orders: user.orders,\n        addresses: user.addresses,\n        accessibility: user.accessibility,\n        favorites: [...user.favorites, {\n          id: id,\n          name: item.name,\n          item: item.item,\n          amount: item.amount,\n          price: item.price,\n          desc: item.desc,\n          discount: item.discount,\n          beforeDiscount: item.beforeDiscount,\n          material: item.material,\n          images: item.images,\n          gender: gender\n        }]\n      }).then(resp => {\n        setFavorite(true);\n        dispatch(loginAction(localStorage.getItem(\"userId\")));\n        snackbarHandler(\"Added to favorites\", \"success\");\n      }).catch(error => {});\n    } else if (favorite === true) {\n      if (user.favorites) {\n        axios.put(`https://benzen-server.herokuapp.com/users/${user.id}/`, {\n          name: user.name,\n          surname: user.surname,\n          email: user.email,\n          password: user.password,\n          favorites: user.favorites.filter(item => item.id !== id),\n          orders: user.orders,\n          addresses: user.addresses,\n          accessibility: user.accessibility\n        }).then(resp => {\n          setFavorite(false);\n          dispatch(loginAction(localStorage.getItem(\"userId\")));\n          snackbarHandler(\"Removed from favorites\", \"error\");\n        }).catch(error => {});\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(CardComponent, {\n    style: {\n      width: mv ? lgWidth : smWidth,\n      margin: mv ? lgMargin : smMargin\n    },\n    children: [isLogged && /*#__PURE__*/_jsxDEV(FavoriteBorderIcon, {\n      className: \"favoriteIcon\",\n      style: {\n        color: favorite ? \"red\" : \"rgba(0, 0, 0, 0.2)\"\n      },\n      onClick: () => favoritesHandler()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: adminPanel ? `/${gender}/${item.id}/admin` : `/${gender}/${item.id}`,\n      className: \"link\",\n      onClick: () => window.scrollTo(0, 0),\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: item.images[0].img,\n        alt: item.name,\n        style: {\n          height: mv ? lgHeight : smHeight\n        },\n        onMouseOver: e => e.currentTarget.src = `${item.images[1].img}`,\n        onMouseOut: e => e.currentTarget.src = `${item.images[0].img}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"name\",\n        children: item.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"price\",\n      children: item.discount === \"true\" || item.discount === true ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [item.price, \" GBP\", /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            textDecoration: \"line-through\"\n          },\n          children: [item.beforeDiscount, \" GBP\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [item.price, \" GBP\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Card, \"atoHReOxmkxUFytI2A8AiCaiDvo=\", false, function () {\n  return [useDispatch, useSnackbar, useSelector];\n});\n\n_c = Card;\nconst CardComponent = styled.div`\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  .link {\n    text-align: center;\n  }\n  img {\n    width: 100%;\n    object-fit: cover;\n    object-position: center;\n  }\n  .price {\n    font-size: 0.8rem;\n    display: flex;\n    @media screen and (max-width: 1000px) {\n      font-size: 0.7rem;\n    }\n    p {\n      color: red;\n      padding: 0;\n      margin: 0;\n    }\n    span {\n      padding: 0px 5px;\n      color: black;\n    }\n  }\n  .name {\n    height: 1rem;\n    padding: 2px 0;\n    font-weight: bold;\n    font-size: 0.8rem;\n    @media screen and (max-width: 1000px) {\n      font-size: 0.6rem;\n      height: 1.3rem;\n    }\n  }\n  .favoriteIcon {\n    position: absolute;\n    top: 0;\n    right: 0;\n    z-index: 2;\n    font-size: 3rem;\n    margin: 2rem 1rem;\n    &:hover {\n      cursor: pointer;\n    }\n    @media screen and (max-width: 1000px) {\n      margin: 0.5rem;\n      font-size: 2rem;\n    }\n  }\n`;\n_c2 = CardComponent;\nexport default Card;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Card\");\n$RefreshReg$(_c2, \"CardComponent\");","map":{"version":3,"sources":["C:/Users/lukas/Desktop/Programowanko/Projekty/benzen/client/src/components/Card.js"],"names":["React","useState","useEffect","useLayoutEffect","styled","FavoriteBorderIcon","Link","axios","useSnackbar","useSelector","useDispatch","loginAction","Card","item","lgHeight","smHeight","smWidth","lgWidth","smMargin","lgMargin","gender","id","adminPanel","dispatch","size","setSize","mv","setMV","favorite","setFavorite","updateSize","window","innerWidth","innerHeight","addEventListener","removeEventListener","matchMedia","matches","enqueueSnackbar","closeSnackbar","localStorage","getItem","user","isLogged","state","login","favorites","filter","snackbarHandler","snackbarMessage","snackVariant","variant","favoritesHandler","put","name","surname","email","password","orders","addresses","accessibility","amount","price","desc","discount","beforeDiscount","material","images","then","resp","catch","error","width","margin","color","scrollTo","img","height","e","currentTarget","src","textDecoration","CardComponent","div"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,eAArC,QAA4D,OAA5D,C,CACA;;AACA,OAAOC,MAAP,MAAmB,mBAAnB,C,CACA;;AACA,OAAOC,kBAAP,MAA+B,mCAA/B,C,CACA;;AACA,SAASC,IAAT,QAAqB,kBAArB,C,CACA;;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AACA,SAASC,WAAT,QAA4B,WAA5B,C,CAEA;;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC,C,CACA;;AACA,SAASC,WAAT,QAA4B,wBAA5B;;AAEA,MAAMC,IAAI,GAAG,CAAC;AACZC,EAAAA,IADY;AAEZC,EAAAA,QAFY;AAGZC,EAAAA,QAHY;AAIZC,EAAAA,OAJY;AAKZC,EAAAA,OALY;AAMZC,EAAAA,QANY;AAOZC,EAAAA,QAPY;AAQZC,EAAAA,MARY;AASZC,EAAAA,EATY;AAUZC,EAAAA;AAVY,CAAD,KAWP;AAAA;;AACJ;AACA,QAAMC,QAAQ,GAAGb,WAAW,EAA5B;AACA,QAAM,CAACc,IAAD,EAAOC,OAAP,IAAkBxB,QAAQ,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,CAAhC;AACA,QAAM,CAACyB,EAAD,EAAKC,KAAL,IAAc1B,QAAQ,CAAC,KAAD,CAA5B;AACA,QAAM,CAAC2B,QAAD,EAAWC,WAAX,IAA0B5B,QAAQ,CAAC,KAAD,CAAxC,CALI,CAMJ;;AACAE,EAAAA,eAAe,CAAC,MAAM;AACpB,aAAS2B,UAAT,GAAsB;AACpBL,MAAAA,OAAO,CAAC,CAACM,MAAM,CAACC,UAAR,EAAoBD,MAAM,CAACE,WAA3B,CAAD,CAAP;AACD;;AACDF,IAAAA,MAAM,CAACG,gBAAP,CAAwB,QAAxB,EAAkCJ,UAAlC;AACAA,IAAAA,UAAU;AACV,WAAO,MAAMC,MAAM,CAACI,mBAAP,CAA2B,QAA3B,EAAqCL,UAArC,CAAb;AACD,GAPc,EAOZ,EAPY,CAAf;AAQA5B,EAAAA,SAAS,CAAC,MAAM;AACdyB,IAAAA,KAAK,CAACI,MAAM,CAACK,UAAP,CAAkB,qBAAlB,EAAyCC,OAA1C,CAAL;AACD,GAFQ,EAEN,CAACb,IAAD,EAAOE,EAAP,CAFM,CAAT,CAfI,CAkBJ;;AACA,QAAM;AAAEY,IAAAA,eAAF;AAAmBC,IAAAA;AAAnB,MAAqC/B,WAAW,EAAtD;AACAN,EAAAA,SAAS,CAAC,MAAM;AACdqB,IAAAA,QAAQ,CAACZ,WAAW,CAAC6B,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAD,CAAZ,CAAR;AACD,GAFQ,EAEN,CAAClB,QAAD,CAFM,CAAT,CApBI,CAuBJ;;AACA,QAAM;AAAEmB,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAqBlC,WAAW,CAAEmC,KAAD,IAAWA,KAAK,CAACC,KAAlB,CAAtC;AAEA3C,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIyC,QAAJ,EAAc;AACZD,MAAAA,IAAI,CAACI,SAAL,CAAeC,MAAf,CAAuBlC,IAAD,IACpBA,IAAI,CAACQ,EAAL,KAAYA,EAAZ,GAAiBQ,WAAW,CAAC,IAAD,CAA5B,GAAqC,EADvC;AAGD;AACF,GANQ,EAMN,CAACa,IAAD,EAAOrB,EAAP,EAAWsB,QAAX,CANM,CAAT,CA1BI,CAiCJ;;AACA,QAAMK,eAAe,GAAG,CAACC,eAAD,EAAkBC,YAAlB,KAAmC;AACzDZ,IAAAA,eAAe,CAACW,eAAD,EAAkB;AAAEE,MAAAA,OAAO,EAAED;AAAX,KAAlB,CAAf;AACAX,IAAAA,aAAa,CAAC,GAAD,CAAb;AACD,GAHD,CAlCI,CAsCJ;;;AACA,QAAMa,gBAAgB,GAAG,MAAM;AAC7B,QAAIxB,QAAQ,KAAK,KAAjB,EAAwB;AACtBrB,MAAAA,KAAK,CACF8C,GADH,CACQ,6CAA4CX,IAAI,CAACrB,EAAG,GAD5D,EACgE;AAC5DiC,QAAAA,IAAI,EAAEZ,IAAI,CAACY,IADiD;AAE5DC,QAAAA,OAAO,EAAEb,IAAI,CAACa,OAF8C;AAG5DC,QAAAA,KAAK,EAAEd,IAAI,CAACc,KAHgD;AAI5DC,QAAAA,QAAQ,EAAEf,IAAI,CAACe,QAJ6C;AAK5DC,QAAAA,MAAM,EAAEhB,IAAI,CAACgB,MAL+C;AAM5DC,QAAAA,SAAS,EAAEjB,IAAI,CAACiB,SAN4C;AAO5DC,QAAAA,aAAa,EAAElB,IAAI,CAACkB,aAPwC;AAQ5Dd,QAAAA,SAAS,EAAE,CACT,GAAGJ,IAAI,CAACI,SADC,EAET;AACEzB,UAAAA,EAAE,EAAEA,EADN;AAEEiC,UAAAA,IAAI,EAAEzC,IAAI,CAACyC,IAFb;AAGEzC,UAAAA,IAAI,EAAEA,IAAI,CAACA,IAHb;AAIEgD,UAAAA,MAAM,EAAEhD,IAAI,CAACgD,MAJf;AAKEC,UAAAA,KAAK,EAAEjD,IAAI,CAACiD,KALd;AAMEC,UAAAA,IAAI,EAAElD,IAAI,CAACkD,IANb;AAOEC,UAAAA,QAAQ,EAAEnD,IAAI,CAACmD,QAPjB;AAQEC,UAAAA,cAAc,EAAEpD,IAAI,CAACoD,cARvB;AASEC,UAAAA,QAAQ,EAAErD,IAAI,CAACqD,QATjB;AAUEC,UAAAA,MAAM,EAAEtD,IAAI,CAACsD,MAVf;AAWE/C,UAAAA,MAAM,EAAEA;AAXV,SAFS;AARiD,OADhE,EA0BGgD,IA1BH,CA0BSC,IAAD,IAAU;AACdxC,QAAAA,WAAW,CAAC,IAAD,CAAX;AACAN,QAAAA,QAAQ,CAACZ,WAAW,CAAC6B,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAD,CAAZ,CAAR;AACAO,QAAAA,eAAe,CAAC,oBAAD,EAAuB,SAAvB,CAAf;AACD,OA9BH,EA+BGsB,KA/BH,CA+BUC,KAAD,IAAW,CAAE,CA/BtB;AAgCD,KAjCD,MAiCO,IAAI3C,QAAQ,KAAK,IAAjB,EAAuB;AAC5B,UAAIc,IAAI,CAACI,SAAT,EAAoB;AAClBvC,QAAAA,KAAK,CACF8C,GADH,CACQ,6CAA4CX,IAAI,CAACrB,EAAG,GAD5D,EACgE;AAC5DiC,UAAAA,IAAI,EAAEZ,IAAI,CAACY,IADiD;AAE5DC,UAAAA,OAAO,EAAEb,IAAI,CAACa,OAF8C;AAG5DC,UAAAA,KAAK,EAAEd,IAAI,CAACc,KAHgD;AAI5DC,UAAAA,QAAQ,EAAEf,IAAI,CAACe,QAJ6C;AAK5DX,UAAAA,SAAS,EAAEJ,IAAI,CAACI,SAAL,CAAeC,MAAf,CAAuBlC,IAAD,IAAUA,IAAI,CAACQ,EAAL,KAAYA,EAA5C,CALiD;AAM5DqC,UAAAA,MAAM,EAAEhB,IAAI,CAACgB,MAN+C;AAO5DC,UAAAA,SAAS,EAAEjB,IAAI,CAACiB,SAP4C;AAQ5DC,UAAAA,aAAa,EAAElB,IAAI,CAACkB;AARwC,SADhE,EAWGQ,IAXH,CAWSC,IAAD,IAAU;AACdxC,UAAAA,WAAW,CAAC,KAAD,CAAX;AACAN,UAAAA,QAAQ,CAACZ,WAAW,CAAC6B,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAD,CAAZ,CAAR;AACAO,UAAAA,eAAe,CAAC,wBAAD,EAA2B,OAA3B,CAAf;AACD,SAfH,EAgBGsB,KAhBH,CAgBUC,KAAD,IAAW,CAAE,CAhBtB;AAiBD;AACF;AACF,GAvDD;;AAwDA,sBACE,QAAC,aAAD;AACE,IAAA,KAAK,EAAE;AACLC,MAAAA,KAAK,EAAE9C,EAAE,GAAGT,OAAH,GAAaD,OADjB;AAELyD,MAAAA,MAAM,EAAE/C,EAAE,GAAGP,QAAH,GAAcD;AAFnB,KADT;AAAA,eAMGyB,QAAQ,iBACP,QAAC,kBAAD;AACE,MAAA,SAAS,EAAC,cADZ;AAEE,MAAA,KAAK,EAAE;AAAE+B,QAAAA,KAAK,EAAE9C,QAAQ,GAAG,KAAH,GAAW;AAA5B,OAFT;AAGE,MAAA,OAAO,EAAE,MAAMwB,gBAAgB;AAHjC;AAAA;AAAA;AAAA;AAAA,YAPJ,eAaE,QAAC,IAAD;AACE,MAAA,EAAE,EACA9B,UAAU,GAAI,IAAGF,MAAO,IAAGP,IAAI,CAACQ,EAAG,QAAzB,GAAoC,IAAGD,MAAO,IAAGP,IAAI,CAACQ,EAAG,EAFvE;AAIE,MAAA,SAAS,EAAC,MAJZ;AAKE,MAAA,OAAO,EAAE,MAAMU,MAAM,CAAC4C,QAAP,CAAgB,CAAhB,EAAmB,CAAnB,CALjB;AAAA,8BAOE;AACE,QAAA,GAAG,EAAE9D,IAAI,CAACsD,MAAL,CAAY,CAAZ,EAAeS,GADtB;AAEE,QAAA,GAAG,EAAE/D,IAAI,CAACyC,IAFZ;AAGE,QAAA,KAAK,EAAE;AAAEuB,UAAAA,MAAM,EAAEnD,EAAE,GAAGZ,QAAH,GAAcC;AAA1B,SAHT;AAIE,QAAA,WAAW,EAAG+D,CAAD,IAAQA,CAAC,CAACC,aAAF,CAAgBC,GAAhB,GAAuB,GAAEnE,IAAI,CAACsD,MAAL,CAAY,CAAZ,EAAeS,GAAI,EAJnE;AAKE,QAAA,UAAU,EAAGE,CAAD,IAAQA,CAAC,CAACC,aAAF,CAAgBC,GAAhB,GAAuB,GAAEnE,IAAI,CAACsD,MAAL,CAAY,CAAZ,EAAeS,GAAI;AALlE;AAAA;AAAA;AAAA;AAAA,cAPF,eAeE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA,kBAAuB/D,IAAI,CAACyC;AAA5B;AAAA;AAAA;AAAA;AAAA,cAfF;AAAA;AAAA;AAAA;AAAA;AAAA,YAbF,eA8BE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA,gBACGzC,IAAI,CAACmD,QAAL,KAAkB,MAAlB,IAA4BnD,IAAI,CAACmD,QAAL,KAAkB,IAA9C,gBACC;AAAA,mBACGnD,IAAI,CAACiD,KADR,uBAEE;AAAM,UAAA,KAAK,EAAE;AAAEmB,YAAAA,cAAc,EAAE;AAAlB,WAAb;AAAA,qBACGpE,IAAI,CAACoD,cADR;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,gBAQC;AAAA,mBAAOpD,IAAI,CAACiD,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AATJ;AAAA;AAAA;AAAA;AAAA,YA9BF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA6CD,CAvJD;;GAAMlD,I;UAaaF,W,EAiB0BF,W,EAKhBC,W;;;KAnCvBG,I;AAyJN,MAAMsE,aAAa,GAAG9E,MAAM,CAAC+E,GAAI;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAvDA;MAAMD,a;AAyDN,eAAetE,IAAf","sourcesContent":["import React, { useState, useEffect, useLayoutEffect } from \"react\";\r\n//styling\r\nimport styled from \"styled-components\";\r\n//icons\r\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\r\n//link\r\nimport { Link } from \"react-router-dom\";\r\n//axios\r\nimport axios from \"axios\";\r\n//notistack\r\nimport { useSnackbar } from \"notistack\";\r\n\r\n//redux\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n//actions\r\nimport { loginAction } from \"../actions/loginAction\";\r\n\r\nconst Card = ({\r\n  item,\r\n  lgHeight,\r\n  smHeight,\r\n  smWidth,\r\n  lgWidth,\r\n  smMargin,\r\n  lgMargin,\r\n  gender,\r\n  id,\r\n  adminPanel,\r\n}) => {\r\n  //state\r\n  const dispatch = useDispatch();\r\n  const [size, setSize] = useState([0, 0]);\r\n  const [mv, setMV] = useState(false);\r\n  const [favorite, setFavorite] = useState(false);\r\n  //get width\r\n  useLayoutEffect(() => {\r\n    function updateSize() {\r\n      setSize([window.innerWidth, window.innerHeight]);\r\n    }\r\n    window.addEventListener(\"resize\", updateSize);\r\n    updateSize();\r\n    return () => window.removeEventListener(\"resize\", updateSize);\r\n  }, []);\r\n  useEffect(() => {\r\n    setMV(window.matchMedia(\"(min-width: 1000px)\").matches);\r\n  }, [size, mv]);\r\n  //snack bar\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n  useEffect(() => {\r\n    dispatch(loginAction(localStorage.getItem(\"userId\")));\r\n  }, [dispatch]);\r\n  //get data back\r\n  const { user, isLogged } = useSelector((state) => state.login);\r\n\r\n  useEffect(() => {\r\n    if (isLogged) {\r\n      user.favorites.filter((item) =>\r\n        item.id === id ? setFavorite(true) : \"\"\r\n      );\r\n    }\r\n  }, [user, id, isLogged]);\r\n  //handlers\r\n  const snackbarHandler = (snackbarMessage, snackVariant) => {\r\n    enqueueSnackbar(snackbarMessage, { variant: snackVariant });\r\n    closeSnackbar(500);\r\n  };\r\n  //this handler checks if favorite is false if so it adds this item to users favorite list, if favorite is true it filters the array\r\n  const favoritesHandler = () => {\r\n    if (favorite === false) {\r\n      axios\r\n        .put(`https://benzen-server.herokuapp.com/users/${user.id}/`, {\r\n          name: user.name,\r\n          surname: user.surname,\r\n          email: user.email,\r\n          password: user.password,\r\n          orders: user.orders,\r\n          addresses: user.addresses,\r\n          accessibility: user.accessibility,\r\n          favorites: [\r\n            ...user.favorites,\r\n            {\r\n              id: id,\r\n              name: item.name,\r\n              item: item.item,\r\n              amount: item.amount,\r\n              price: item.price,\r\n              desc: item.desc,\r\n              discount: item.discount,\r\n              beforeDiscount: item.beforeDiscount,\r\n              material: item.material,\r\n              images: item.images,\r\n              gender: gender,\r\n            },\r\n          ],\r\n        })\r\n        .then((resp) => {\r\n          setFavorite(true);\r\n          dispatch(loginAction(localStorage.getItem(\"userId\")));\r\n          snackbarHandler(\"Added to favorites\", \"success\");\r\n        })\r\n        .catch((error) => {});\r\n    } else if (favorite === true) {\r\n      if (user.favorites) {\r\n        axios\r\n          .put(`https://benzen-server.herokuapp.com/users/${user.id}/`, {\r\n            name: user.name,\r\n            surname: user.surname,\r\n            email: user.email,\r\n            password: user.password,\r\n            favorites: user.favorites.filter((item) => item.id !== id),\r\n            orders: user.orders,\r\n            addresses: user.addresses,\r\n            accessibility: user.accessibility,\r\n          })\r\n          .then((resp) => {\r\n            setFavorite(false);\r\n            dispatch(loginAction(localStorage.getItem(\"userId\")));\r\n            snackbarHandler(\"Removed from favorites\", \"error\");\r\n          })\r\n          .catch((error) => {});\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <CardComponent\r\n      style={{\r\n        width: mv ? lgWidth : smWidth,\r\n        margin: mv ? lgMargin : smMargin,\r\n      }}\r\n    >\r\n      {isLogged && (\r\n        <FavoriteBorderIcon\r\n          className=\"favoriteIcon\"\r\n          style={{ color: favorite ? \"red\" : \"rgba(0, 0, 0, 0.2)\" }}\r\n          onClick={() => favoritesHandler()}\r\n        />\r\n      )}\r\n      <Link\r\n        to={\r\n          adminPanel ? `/${gender}/${item.id}/admin` : `/${gender}/${item.id}`\r\n        }\r\n        className=\"link\"\r\n        onClick={() => window.scrollTo(0, 0)}\r\n      >\r\n        <img\r\n          src={item.images[0].img}\r\n          alt={item.name}\r\n          style={{ height: mv ? lgHeight : smHeight }}\r\n          onMouseOver={(e) => (e.currentTarget.src = `${item.images[1].img}`)}\r\n          onMouseOut={(e) => (e.currentTarget.src = `${item.images[0].img}`)}\r\n        />\r\n\r\n        <div className=\"name\">{item.name}</div>\r\n      </Link>\r\n      <div className=\"price\">\r\n        {item.discount === \"true\" || item.discount === true ? (\r\n          <p>\r\n            {item.price} GBP\r\n            <span style={{ textDecoration: \"line-through\" }}>\r\n              {item.beforeDiscount} GBP\r\n            </span>\r\n          </p>\r\n        ) : (\r\n          <span>{item.price} GBP</span>\r\n        )}\r\n      </div>\r\n    </CardComponent>\r\n  );\r\n};\r\n\r\nconst CardComponent = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  .link {\r\n    text-align: center;\r\n  }\r\n  img {\r\n    width: 100%;\r\n    object-fit: cover;\r\n    object-position: center;\r\n  }\r\n  .price {\r\n    font-size: 0.8rem;\r\n    display: flex;\r\n    @media screen and (max-width: 1000px) {\r\n      font-size: 0.7rem;\r\n    }\r\n    p {\r\n      color: red;\r\n      padding: 0;\r\n      margin: 0;\r\n    }\r\n    span {\r\n      padding: 0px 5px;\r\n      color: black;\r\n    }\r\n  }\r\n  .name {\r\n    height: 1rem;\r\n    padding: 2px 0;\r\n    font-weight: bold;\r\n    font-size: 0.8rem;\r\n    @media screen and (max-width: 1000px) {\r\n      font-size: 0.6rem;\r\n      height: 1.3rem;\r\n    }\r\n  }\r\n  .favoriteIcon {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    z-index: 2;\r\n    font-size: 3rem;\r\n    margin: 2rem 1rem;\r\n    &:hover {\r\n      cursor: pointer;\r\n    }\r\n    @media screen and (max-width: 1000px) {\r\n      margin: 0.5rem;\r\n      font-size: 2rem;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Card;\r\n"]},"metadata":{},"sourceType":"module"}