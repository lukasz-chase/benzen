{"ast":null,"code":"import * as api from \"../api\";\nimport { GET_ORDERS, GET_ORDER, GET_USER_ORDERS, CREATE_ORDER, UPDATE_ORDER } from \"../constants/actionTypes\";\nexport const getOrders = () => async dispatch => {\n  try {\n    const ordersData = await api.getOrders();\n    dispatch({\n      type: GET_ORDERS,\n      payload: {\n        orders: ordersData\n      }\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getOrder = id => async dispatch => {\n  try {\n    const orderData = await api.getOrder(id);\n    dispatch({\n      type: GET_ORDER,\n      payload: {\n        orders: orderData\n      }\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getUserOrders = id => async dispatch => {\n  try {\n    const userOrders = await api.getUserOrders(id);\n    console.log(userOrders);\n    dispatch({\n      type: GET_USER_ORDERS,\n      payload: {\n        orders: userOrders\n      }\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const createOrder = orderData => async dispatch => {\n  try {\n    const order = await api.createOrder(orderData);\n    dispatch({\n      type: CREATE_ORDER,\n      payload: order.data\n    });\n  } catch (error) {\n    console.log(error);\n  } // await Promise.all(\n  //   orderData.cart.map((item) => api.decreaseItemAmount(item._id))\n  // );\n\n};\nexport const updateOrder = id => async dispatch => {\n  try {\n    const order = await api.updateOrder(id);\n    dispatch({\n      type: UPDATE_ORDER,\n      payload: order\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"sources":["C:/Users/lukas/Desktop/Programowanko/Projekty/benzen/client/src/actions/ordersAction.js"],"names":["api","GET_ORDERS","GET_ORDER","GET_USER_ORDERS","CREATE_ORDER","UPDATE_ORDER","getOrders","dispatch","ordersData","type","payload","orders","error","console","log","getOrder","id","orderData","getUserOrders","userOrders","createOrder","order","data","updateOrder"],"mappings":"AAAA,OAAO,KAAKA,GAAZ,MAAqB,QAArB;AACA,SACEC,UADF,EAEEC,SAFF,EAGEC,eAHF,EAIEC,YAJF,EAKEC,YALF,QAMO,0BANP;AAQA,OAAO,MAAMC,SAAS,GAAG,MAAM,MAAOC,QAAP,IAAoB;AACjD,MAAI;AACF,UAAMC,UAAU,GAAG,MAAMR,GAAG,CAACM,SAAJ,EAAzB;AACAC,IAAAA,QAAQ,CAAC;AACPE,MAAAA,IAAI,EAAER,UADC;AAEPS,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAEH;AADD;AAFF,KAAD,CAAR;AAMD,GARD,CAQE,OAAOI,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,CAZM;AAaP,OAAO,MAAMG,QAAQ,GAAIC,EAAD,IAAQ,MAAOT,QAAP,IAAoB;AAClD,MAAI;AACF,UAAMU,SAAS,GAAG,MAAMjB,GAAG,CAACe,QAAJ,CAAaC,EAAb,CAAxB;AACAT,IAAAA,QAAQ,CAAC;AACPE,MAAAA,IAAI,EAAEP,SADC;AAEPQ,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAEM;AADD;AAFF,KAAD,CAAR;AAMD,GARD,CAQE,OAAOL,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,CAZM;AAaP,OAAO,MAAMM,aAAa,GAAIF,EAAD,IAAQ,MAAOT,QAAP,IAAoB;AACvD,MAAI;AACF,UAAMY,UAAU,GAAG,MAAMnB,GAAG,CAACkB,aAAJ,CAAkBF,EAAlB,CAAzB;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAYK,UAAZ;AACAZ,IAAAA,QAAQ,CAAC;AACPE,MAAAA,IAAI,EAAEN,eADC;AAEPO,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAEQ;AADD;AAFF,KAAD,CAAR;AAMD,GATD,CASE,OAAOP,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,CAbM;AAcP,OAAO,MAAMQ,WAAW,GAAIH,SAAD,IAAe,MAAOV,QAAP,IAAoB;AAC5D,MAAI;AACF,UAAMc,KAAK,GAAG,MAAMrB,GAAG,CAACoB,WAAJ,CAAgBH,SAAhB,CAApB;AACAV,IAAAA,QAAQ,CAAC;AACPE,MAAAA,IAAI,EAAEL,YADC;AAEPM,MAAAA,OAAO,EAAEW,KAAK,CAACC;AAFR,KAAD,CAAR;AAID,GAND,CAME,OAAOV,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,GAT2D,CAU5D;AACA;AACA;;AACD,CAbM;AAcP,OAAO,MAAMW,WAAW,GAAIP,EAAD,IAAQ,MAAOT,QAAP,IAAoB;AACrD,MAAI;AACF,UAAMc,KAAK,GAAG,MAAMrB,GAAG,CAACuB,WAAJ,CAAgBP,EAAhB,CAApB;AACAT,IAAAA,QAAQ,CAAC;AACPE,MAAAA,IAAI,EAAEJ,YADC;AAEPK,MAAAA,OAAO,EAAEW;AAFF,KAAD,CAAR;AAID,GAND,CAME,OAAOT,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,CAVM","sourcesContent":["import * as api from \"../api\";\r\nimport {\r\n  GET_ORDERS,\r\n  GET_ORDER,\r\n  GET_USER_ORDERS,\r\n  CREATE_ORDER,\r\n  UPDATE_ORDER,\r\n} from \"../constants/actionTypes\";\r\n\r\nexport const getOrders = () => async (dispatch) => {\r\n  try {\r\n    const ordersData = await api.getOrders();\r\n    dispatch({\r\n      type: GET_ORDERS,\r\n      payload: {\r\n        orders: ordersData,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nexport const getOrder = (id) => async (dispatch) => {\r\n  try {\r\n    const orderData = await api.getOrder(id);\r\n    dispatch({\r\n      type: GET_ORDER,\r\n      payload: {\r\n        orders: orderData,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nexport const getUserOrders = (id) => async (dispatch) => {\r\n  try {\r\n    const userOrders = await api.getUserOrders(id);\r\n    console.log(userOrders);\r\n    dispatch({\r\n      type: GET_USER_ORDERS,\r\n      payload: {\r\n        orders: userOrders,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nexport const createOrder = (orderData) => async (dispatch) => {\r\n  try {\r\n    const order = await api.createOrder(orderData);\r\n    dispatch({\r\n      type: CREATE_ORDER,\r\n      payload: order.data,\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n  // await Promise.all(\r\n  //   orderData.cart.map((item) => api.decreaseItemAmount(item._id))\r\n  // );\r\n};\r\nexport const updateOrder = (id) => async (dispatch) => {\r\n  try {\r\n    const order = await api.updateOrder(id);\r\n    dispatch({\r\n      type: UPDATE_ORDER,\r\n      payload: order,\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}