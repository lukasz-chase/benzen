{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\lukas\\\\Desktop\\\\Programowanko\\\\Projekty\\\\benzen\\\\client\\\\src\\\\components\\\\Card.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\"; //styling\n\nimport styled from \"styled-components\"; //icons\n\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\"; //link\n\nimport { Link } from \"react-router-dom\"; //notistack\n\nimport { useSnackbar } from \"notistack\"; //redux\n\nimport { useDispatch, useSelector } from \"react-redux\"; //actions\n\nimport { addToFavorites } from \"../actions/userActions\";\n\nconst Card = ({\n  item,\n  adminPanel,\n  size = \"sm\"\n}) => {\n  _s();\n\n  var _item$images$;\n\n  //state\n  const {\n    user,\n    isLoading\n  } = useSelector(state => state.user);\n  const [favorite, setFavorite] = useState(false);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (!isLoading) {\n      setFavorite(user.favorites.find(favorite => favorite === String(item._id)));\n    }\n  }, [isLoading, user, item._id]); //snack bar\n\n  const {\n    enqueueSnackbar,\n    closeSnackbar\n  } = useSnackbar(); // handlers\n\n  const snackbarHandler = (snackbarMessage, snackVariant) => {\n    enqueueSnackbar(snackbarMessage, {\n      variant: snackVariant\n    });\n    closeSnackbar(500);\n  };\n\n  const favoritesHandler = () => {\n    if (!favorite) {\n      dispatch(addToFavorites(user._id, item._id));\n      setFavorite(true);\n      snackbarHandler(\"Added to favorites\", \"success\");\n    } else {\n      dispatch(addToFavorites(user._id, item._id));\n      setFavorite(false);\n      snackbarHandler(\"Removed from favorites\", \"error\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(CardComponent, {\n    size: size,\n    children: [user._id && /*#__PURE__*/_jsxDEV(FavoriteBorderIcon, {\n      className: \"favoriteIcon\",\n      style: {\n        color: favorite ? \"red\" : \"rgba(0, 0, 0, 0.2)\"\n      },\n      onClick: () => favoritesHandler()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: adminPanel ? `/items/${item._id}/admin` : `/items/${item._id}`,\n      className: \"link\",\n      onClick: () => window.scrollTo(0, 0),\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: item === null || item === void 0 ? void 0 : (_item$images$ = item.images[0]) === null || _item$images$ === void 0 ? void 0 : _item$images$.url,\n        alt: item.name,\n        onMouseOver: e => {\n          var _item$images$2;\n\n          return e.currentTarget.src = `${item === null || item === void 0 ? void 0 : (_item$images$2 = item.images[1]) === null || _item$images$2 === void 0 ? void 0 : _item$images$2.url}`;\n        },\n        onMouseOut: e => {\n          var _item$images$3;\n\n          return e.currentTarget.src = `${item === null || item === void 0 ? void 0 : (_item$images$3 = item.images[0]) === null || _item$images$3 === void 0 ? void 0 : _item$images$3.url}`;\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"name\",\n      children: item.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"price\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: item.discount === true ? \"tomato\" : \"black\"\n        },\n        children: [item.price, \" GBP\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), item.discount === true && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          textDecoration: \"line-through\",\n          paddingLeft: \"5px\"\n        },\n        children: [item.priceBeforeDiscount, \" GBP\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Card, \"Ex2xxLmudMCi5kAu4moyx3+/fKo=\", false, function () {\n  return [useSelector, useDispatch, useSnackbar];\n});\n\n_c = Card;\nconst CardComponent = styled.div`\n  position: relative;\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n  flex-direction: column;\n  height: ${({\n  size\n}) => size === \"sm\" ? \"27rem\" : \"35rem\"};\n  width: ${({\n  size\n}) => size === \"sm\" ? \"16vw\" : \"25vw\"};\n  margin: 0.1rem;\n  @media screen and (max-width: 1000px) {\n    width: ${({\n  size\n}) => size === \"sm\" ? \"40%\" : \"100%\"};\n  }\n  .link {\n    text-align: center;\n  }\n  img {\n    width: 100%;\n    height: ${({\n  size\n}) => size === \"sm\" ? \"25rem\" : \"33rem\"};\n    object-fit: cover;\n    object-position: center;\n    @media screen and (max-width: 1000px) {\n      width: ${({\n  size\n}) => size === \"sm\" ? \"40%\" : \"120%\"};\n    }\n  }\n  .price {\n    font-size: 0.8rem;\n    display: flex;\n    @media screen and (max-width: 1000px) {\n      font-size: 0.7rem;\n    }\n  }\n  .name {\n    height: 1rem;\n    padding: 2px;\n    font-weight: bold;\n    font-size: 0.8rem;\n    @media screen and (max-width: 1000px) {\n      font-size: 0.6rem;\n      height: 1.3rem;\n    }\n  }\n  .favoriteIcon {\n    position: absolute;\n    top: 0;\n    right: 10px;\n    z-index: 2;\n    font-size: 3rem;\n    &:hover {\n      cursor: pointer;\n    }\n    @media screen and (max-width: 1000px) {\n      margin: 0.5rem;\n      font-size: 2rem;\n    }\n  }\n`;\n_c2 = CardComponent;\nexport default Card;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Card\");\n$RefreshReg$(_c2, \"CardComponent\");","map":{"version":3,"sources":["C:/Users/lukas/Desktop/Programowanko/Projekty/benzen/client/src/components/Card.js"],"names":["React","useState","useEffect","styled","FavoriteBorderIcon","Link","useSnackbar","useDispatch","useSelector","addToFavorites","Card","item","adminPanel","size","user","isLoading","state","favorite","setFavorite","dispatch","favorites","find","String","_id","enqueueSnackbar","closeSnackbar","snackbarHandler","snackbarMessage","snackVariant","variant","favoritesHandler","color","window","scrollTo","images","url","name","e","currentTarget","src","discount","price","textDecoration","paddingLeft","priceBeforeDiscount","CardComponent","div"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C,C,CACA;;AACA,OAAOC,MAAP,MAAmB,mBAAnB,C,CACA;;AACA,OAAOC,kBAAP,MAA+B,mCAA/B,C,CACA;;AACA,SAASC,IAAT,QAAqB,kBAArB,C,CACA;;AACA,SAASC,WAAT,QAA4B,WAA5B,C,CACA;;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC,C,CACA;;AACA,SAASC,cAAT,QAA+B,wBAA/B;;AAEA,MAAMC,IAAI,GAAG,CAAC;AAAEC,EAAAA,IAAF;AAAQC,EAAAA,UAAR;AAAoBC,EAAAA,IAAI,GAAG;AAA3B,CAAD,KAAuC;AAAA;;AAAA;;AAClD;AACA,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAsBP,WAAW,CAAEQ,KAAD,IAAWA,KAAK,CAACF,IAAlB,CAAvC;AACA,QAAM,CAACG,QAAD,EAAWC,WAAX,IAA0BjB,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAMkB,QAAQ,GAAGZ,WAAW,EAA5B;AACAL,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACa,SAAL,EAAgB;AACdG,MAAAA,WAAW,CACTJ,IAAI,CAACM,SAAL,CAAeC,IAAf,CAAqBJ,QAAD,IAAcA,QAAQ,KAAKK,MAAM,CAACX,IAAI,CAACY,GAAN,CAArD,CADS,CAAX;AAGD;AACF,GANQ,EAMN,CAACR,SAAD,EAAYD,IAAZ,EAAkBH,IAAI,CAACY,GAAvB,CANM,CAAT,CALkD,CAYlD;;AACA,QAAM;AAAEC,IAAAA,eAAF;AAAmBC,IAAAA;AAAnB,MAAqCnB,WAAW,EAAtD,CAbkD,CAclD;;AACA,QAAMoB,eAAe,GAAG,CAACC,eAAD,EAAkBC,YAAlB,KAAmC;AACzDJ,IAAAA,eAAe,CAACG,eAAD,EAAkB;AAAEE,MAAAA,OAAO,EAAED;AAAX,KAAlB,CAAf;AACAH,IAAAA,aAAa,CAAC,GAAD,CAAb;AACD,GAHD;;AAIA,QAAMK,gBAAgB,GAAG,MAAM;AAC7B,QAAI,CAACb,QAAL,EAAe;AACbE,MAAAA,QAAQ,CAACV,cAAc,CAACK,IAAI,CAACS,GAAN,EAAWZ,IAAI,CAACY,GAAhB,CAAf,CAAR;AACAL,MAAAA,WAAW,CAAC,IAAD,CAAX;AACAQ,MAAAA,eAAe,CAAC,oBAAD,EAAuB,SAAvB,CAAf;AACD,KAJD,MAIO;AACLP,MAAAA,QAAQ,CAACV,cAAc,CAACK,IAAI,CAACS,GAAN,EAAWZ,IAAI,CAACY,GAAhB,CAAf,CAAR;AACAL,MAAAA,WAAW,CAAC,KAAD,CAAX;AACAQ,MAAAA,eAAe,CAAC,wBAAD,EAA2B,OAA3B,CAAf;AACD;AACF,GAVD;;AAWA,sBACE,QAAC,aAAD;AAAe,IAAA,IAAI,EAAEb,IAArB;AAAA,eACGC,IAAI,CAACS,GAAL,iBACC,QAAC,kBAAD;AACE,MAAA,SAAS,EAAC,cADZ;AAEE,MAAA,KAAK,EAAE;AAAEQ,QAAAA,KAAK,EAAEd,QAAQ,GAAG,KAAH,GAAW;AAA5B,OAFT;AAGE,MAAA,OAAO,EAAE,MAAMa,gBAAgB;AAHjC;AAAA;AAAA;AAAA;AAAA,YAFJ,eAQE,QAAC,IAAD;AACE,MAAA,EAAE,EAAElB,UAAU,GAAI,UAASD,IAAI,CAACY,GAAI,QAAtB,GAAiC,UAASZ,IAAI,CAACY,GAAI,EADnE;AAEE,MAAA,SAAS,EAAC,MAFZ;AAGE,MAAA,OAAO,EAAE,MAAMS,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB,CAHjB;AAAA,6BAKE;AACE,QAAA,GAAG,EAAEtB,IAAF,aAAEA,IAAF,wCAAEA,IAAI,CAAEuB,MAAN,CAAa,CAAb,CAAF,kDAAE,cAAiBC,GADxB;AAEE,QAAA,GAAG,EAAExB,IAAI,CAACyB,IAFZ;AAGE,QAAA,WAAW,EAAGC,CAAD;AAAA;;AAAA,iBAAQA,CAAC,CAACC,aAAF,CAAgBC,GAAhB,GAAuB,GAAE5B,IAAH,aAAGA,IAAH,yCAAGA,IAAI,CAAEuB,MAAN,CAAa,CAAb,CAAH,mDAAG,eAAiBC,GAAI,EAAtD;AAAA,SAHf;AAIE,QAAA,UAAU,EAAGE,CAAD;AAAA;;AAAA,iBAAQA,CAAC,CAACC,aAAF,CAAgBC,GAAhB,GAAuB,GAAE5B,IAAH,aAAGA,IAAH,yCAAGA,IAAI,CAAEuB,MAAN,CAAa,CAAb,CAAH,mDAAG,eAAiBC,GAAI,EAAtD;AAAA;AAJd;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA,YARF,eAoBE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,gBAAuBxB,IAAI,CAACyB;AAA5B;AAAA;AAAA;AAAA;AAAA,YApBF,eAqBE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA,8BACE;AAAG,QAAA,KAAK,EAAE;AAAEL,UAAAA,KAAK,EAAEpB,IAAI,CAAC6B,QAAL,KAAkB,IAAlB,GAAyB,QAAzB,GAAoC;AAA7C,SAAV;AAAA,mBACG7B,IAAI,CAAC8B,KADR;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAIG9B,IAAI,CAAC6B,QAAL,KAAkB,IAAlB,iBACC;AAAM,QAAA,KAAK,EAAE;AAAEE,UAAAA,cAAc,EAAE,cAAlB;AAAkCC,UAAAA,WAAW,EAAE;AAA/C,SAAb;AAAA,mBACGhC,IAAI,CAACiC,mBADR;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ;AAAA;AAAA;AAAA;AAAA;AAAA,YArBF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAkCD,CAhED;;GAAMlC,I;UAEwBF,W,EAEXD,W,EAS0BD,W;;;KAbvCI,I;AAkEN,MAAMmC,aAAa,GAAG1C,MAAM,CAAC2C,GAAI;AACjC;AACA;AACA;AACA;AACA;AACA,YAAY,CAAC;AAAEjC,EAAAA;AAAF,CAAD,KAAeA,IAAI,KAAK,IAAT,GAAgB,OAAhB,GAA0B,OAAS;AAC9D,WAAW,CAAC;AAAEA,EAAAA;AAAF,CAAD,KAAeA,IAAI,KAAK,IAAT,GAAgB,MAAhB,GAAyB,MAAQ;AAC3D;AACA;AACA,aAAa,CAAC;AAAEA,EAAAA;AAAF,CAAD,KAAeA,IAAI,KAAK,IAAT,GAAgB,KAAhB,GAAwB,MAAQ;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,CAAC;AAAEA,EAAAA;AAAF,CAAD,KAAeA,IAAI,KAAK,IAAT,GAAgB,OAAhB,GAA0B,OAAS;AAChE;AACA;AACA;AACA,eAAe,CAAC;AAAEA,EAAAA;AAAF,CAAD,KAAeA,IAAI,KAAK,IAAT,GAAgB,KAAhB,GAAwB,MAAQ;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAvDA;MAAMgC,a;AAyDN,eAAenC,IAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n//styling\r\nimport styled from \"styled-components\";\r\n//icons\r\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\r\n//link\r\nimport { Link } from \"react-router-dom\";\r\n//notistack\r\nimport { useSnackbar } from \"notistack\";\r\n//redux\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n//actions\r\nimport { addToFavorites } from \"../actions/userActions\";\r\n\r\nconst Card = ({ item, adminPanel, size = \"sm\" }) => {\r\n  //state\r\n  const { user, isLoading } = useSelector((state) => state.user);\r\n  const [favorite, setFavorite] = useState(false);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (!isLoading) {\r\n      setFavorite(\r\n        user.favorites.find((favorite) => favorite === String(item._id))\r\n      );\r\n    }\r\n  }, [isLoading, user, item._id]);\r\n  //snack bar\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n  // handlers\r\n  const snackbarHandler = (snackbarMessage, snackVariant) => {\r\n    enqueueSnackbar(snackbarMessage, { variant: snackVariant });\r\n    closeSnackbar(500);\r\n  };\r\n  const favoritesHandler = () => {\r\n    if (!favorite) {\r\n      dispatch(addToFavorites(user._id, item._id));\r\n      setFavorite(true);\r\n      snackbarHandler(\"Added to favorites\", \"success\");\r\n    } else {\r\n      dispatch(addToFavorites(user._id, item._id));\r\n      setFavorite(false);\r\n      snackbarHandler(\"Removed from favorites\", \"error\");\r\n    }\r\n  };\r\n  return (\r\n    <CardComponent size={size}>\r\n      {user._id && (\r\n        <FavoriteBorderIcon\r\n          className=\"favoriteIcon\"\r\n          style={{ color: favorite ? \"red\" : \"rgba(0, 0, 0, 0.2)\" }}\r\n          onClick={() => favoritesHandler()}\r\n        />\r\n      )}\r\n      <Link\r\n        to={adminPanel ? `/items/${item._id}/admin` : `/items/${item._id}`}\r\n        className=\"link\"\r\n        onClick={() => window.scrollTo(0, 0)}\r\n      >\r\n        <img\r\n          src={item?.images[0]?.url}\r\n          alt={item.name}\r\n          onMouseOver={(e) => (e.currentTarget.src = `${item?.images[1]?.url}`)}\r\n          onMouseOut={(e) => (e.currentTarget.src = `${item?.images[0]?.url}`)}\r\n        />\r\n      </Link>\r\n      <div className=\"name\">{item.name}</div>\r\n      <div className=\"price\">\r\n        <p style={{ color: item.discount === true ? \"tomato\" : \"black\" }}>\r\n          {item.price} GBP\r\n        </p>\r\n        {item.discount === true && (\r\n          <span style={{ textDecoration: \"line-through\", paddingLeft: \"5px\" }}>\r\n            {item.priceBeforeDiscount} GBP\r\n          </span>\r\n        )}\r\n      </div>\r\n    </CardComponent>\r\n  );\r\n};\r\n\r\nconst CardComponent = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  height: ${({ size }) => (size === \"sm\" ? \"27rem\" : \"35rem\")};\r\n  width: ${({ size }) => (size === \"sm\" ? \"16vw\" : \"25vw\")};\r\n  margin: 0.1rem;\r\n  @media screen and (max-width: 1000px) {\r\n    width: ${({ size }) => (size === \"sm\" ? \"40%\" : \"100%\")};\r\n  }\r\n  .link {\r\n    text-align: center;\r\n  }\r\n  img {\r\n    width: 100%;\r\n    height: ${({ size }) => (size === \"sm\" ? \"25rem\" : \"33rem\")};\r\n    object-fit: cover;\r\n    object-position: center;\r\n    @media screen and (max-width: 1000px) {\r\n      width: ${({ size }) => (size === \"sm\" ? \"40%\" : \"120%\")};\r\n    }\r\n  }\r\n  .price {\r\n    font-size: 0.8rem;\r\n    display: flex;\r\n    @media screen and (max-width: 1000px) {\r\n      font-size: 0.7rem;\r\n    }\r\n  }\r\n  .name {\r\n    height: 1rem;\r\n    padding: 2px;\r\n    font-weight: bold;\r\n    font-size: 0.8rem;\r\n    @media screen and (max-width: 1000px) {\r\n      font-size: 0.6rem;\r\n      height: 1.3rem;\r\n    }\r\n  }\r\n  .favoriteIcon {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 10px;\r\n    z-index: 2;\r\n    font-size: 3rem;\r\n    &:hover {\r\n      cursor: pointer;\r\n    }\r\n    @media screen and (max-width: 1000px) {\r\n      margin: 0.5rem;\r\n      font-size: 2rem;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Card;\r\n"]},"metadata":{},"sourceType":"module"}