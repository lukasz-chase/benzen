{"ast":null,"code":"import axios from \"axios\";\nimport * as api from \"../api\";\nimport { CREATE, FETCH_ITEM, START_LOADING, END_LOADING, FETCH_ALL, FETCH_BY_ITEM, FETCH_BY_SEARCH, FETCH_ON_SALE, UPDATE_ITEM, DELETE } from \"../constants/actionTypes\"; //action creator\n\nexport const getItems = gender => async dispatch => {\n  try {\n    dispatch({\n      type: START_LOADING\n    });\n    const {\n      data\n    } = await api.getItems(gender);\n    dispatch({\n      type: FETCH_ALL,\n      payload: data\n    });\n    dispatch({\n      type: END_LOADING\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getItemsByItem = (gender, item, order, page) => async dispatch => {\n  try {\n    dispatch({\n      type: START_LOADING\n    });\n    const {\n      data: {\n        data,\n        currentPage,\n        numberOfPages\n      }\n    } = await api.getItemsByItem(gender, item, order, page);\n    dispatch({\n      type: FETCH_BY_ITEM,\n      payload: {\n        data,\n        currentPage,\n        numberOfPages\n      }\n    });\n    dispatch({\n      type: END_LOADING\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getItemsBySearch = (gender, search) => async dispatch => {\n  try {\n    dispatch({\n      type: START_LOADING\n    });\n    const {\n      data\n    } = await api.getItemsBySearch(gender, search);\n    dispatch({\n      type: FETCH_BY_SEARCH,\n      payload: data\n    });\n    dispatch({\n      type: END_LOADING\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getItemsOnSale = (gender, item) => async dispatch => {\n  try {\n    dispatch({\n      type: START_LOADING\n    });\n    const {\n      data\n    } = await api.getItemsOnSale(gender, item);\n    dispatch({\n      type: FETCH_ON_SALE,\n      payload: data\n    });\n    dispatch({\n      type: END_LOADING\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getItem = id => async dispatch => {\n  try {\n    dispatch({\n      type: START_LOADING\n    });\n    const {\n      data\n    } = await api.getItem(id);\n    dispatch({\n      type: FETCH_ITEM,\n      payload: {\n        item: data\n      }\n    });\n    dispatch({\n      type: END_LOADING\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const createItem = (item, history) => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.createItem(item);\n    dispatch({\n      type: CREATE,\n      payload: data\n    });\n    history.push(`/items/${data._id}`);\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const updateItem = (id, item, history) => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.updateItem(id, item);\n    dispatch({\n      type: UPDATE_ITEM,\n      payload: data\n    });\n    history.push(`/items/${data._id}`);\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const deleteItem = (id, history) => async dispatch => {\n  try {\n    await await api.deleteItem(id);\n    dispatch({\n      type: DELETE,\n      payload: id\n    });\n    history.goBack();\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const loadFavorites = (gender, id) => async dispatch => {\n  //fetch data\n  const itemData = await axios.get(api.specificItemUrl(gender, id));\n  dispatch({\n    type: \"FETCH_FAVORITE\",\n    payload: {\n      favorite: itemData.data\n    }\n  });\n};","map":{"version":3,"sources":["C:/Users/lukas/Desktop/Programowanko/Projekty/benzen/client/src/actions/itemsAction.js"],"names":["axios","api","CREATE","FETCH_ITEM","START_LOADING","END_LOADING","FETCH_ALL","FETCH_BY_ITEM","FETCH_BY_SEARCH","FETCH_ON_SALE","UPDATE_ITEM","DELETE","getItems","gender","dispatch","type","data","payload","error","console","log","getItemsByItem","item","order","page","currentPage","numberOfPages","getItemsBySearch","search","getItemsOnSale","getItem","id","createItem","history","push","_id","updateItem","deleteItem","goBack","loadFavorites","itemData","get","specificItemUrl","favorite"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport * as api from \"../api\";\r\nimport {\r\n  CREATE,\r\n  FETCH_ITEM,\r\n  START_LOADING,\r\n  END_LOADING,\r\n  FETCH_ALL,\r\n  FETCH_BY_ITEM,\r\n  FETCH_BY_SEARCH,\r\n  FETCH_ON_SALE,\r\n  UPDATE_ITEM,\r\n  DELETE,\r\n} from \"../constants/actionTypes\";\r\n\r\n//action creator\r\nexport const getItems = (gender) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING });\r\n    const { data } = await api.getItems(gender);\r\n    dispatch({ type: FETCH_ALL, payload: data });\r\n    dispatch({ type: END_LOADING });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nexport const getItemsByItem =\r\n  (gender, item, order, page) => async (dispatch) => {\r\n    try {\r\n      dispatch({ type: START_LOADING });\r\n      const {\r\n        data: { data, currentPage, numberOfPages },\r\n      } = await api.getItemsByItem(gender, item, order, page);\r\n      dispatch({\r\n        type: FETCH_BY_ITEM,\r\n        payload: { data, currentPage, numberOfPages },\r\n      });\r\n      dispatch({ type: END_LOADING });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\nexport const getItemsBySearch = (gender, search) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING });\r\n    const { data } = await api.getItemsBySearch(gender, search);\r\n    dispatch({ type: FETCH_BY_SEARCH, payload: data });\r\n    dispatch({ type: END_LOADING });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nexport const getItemsOnSale = (gender, item) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING });\r\n    const { data } = await api.getItemsOnSale(gender, item);\r\n    dispatch({ type: FETCH_ON_SALE, payload: data });\r\n    dispatch({ type: END_LOADING });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nexport const getItem = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING });\r\n    const { data } = await api.getItem(id);\r\n    dispatch({ type: FETCH_ITEM, payload: { item: data } });\r\n    dispatch({ type: END_LOADING });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const createItem = (item, history) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.createItem(item);\r\n    dispatch({ type: CREATE, payload: data });\r\n    history.push(`/items/${data._id}`);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const updateItem = (id, item, history) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.updateItem(id, item);\r\n    dispatch({ type: UPDATE_ITEM, payload: data });\r\n    history.push(`/items/${data._id}`);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nexport const deleteItem = (id, history) => async (dispatch) => {\r\n  try {\r\n    await await api.deleteItem(id);\r\n\r\n    dispatch({ type: DELETE, payload: id });\r\n    history.goBack();\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const loadFavorites = (gender, id) => async (dispatch) => {\r\n  //fetch data\r\n  const itemData = await axios.get(api.specificItemUrl(gender, id));\r\n  dispatch({\r\n    type: \"FETCH_FAVORITE\",\r\n    payload: {\r\n      favorite: itemData.data,\r\n    },\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}