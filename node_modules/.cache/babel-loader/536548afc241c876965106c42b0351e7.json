{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\lukas\\\\Desktop\\\\Programowanko\\\\Projekty\\\\benzen\\\\client\\\\src\\\\components\\\\OrderDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\"; //styling\n\nimport styled from \"styled-components\"; //router\n\nimport { Link } from \"react-router-dom\";\nimport { useLocation } from \"react-router\"; //material ui\n\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\"; //actions\n\nimport { getOrder, updateOrder } from \"../actions/ordersAction\"; //redux\n\nimport { useDispatch, useSelector } from \"react-redux\"; //components\n\nimport Button from \"./Button\";\nimport ShowLoading from \"./ShowLoading\"; //moment\n\nimport moment from \"moment\";\n\nconst OrderDetails = ({\n  snackbarHandler\n}) => {\n  _s();\n\n  var _order$cart, _order$cart2, _order$address, _order$address2, _order$address3, _order$address4, _order$address5, _order$address6;\n\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const pathId = location.pathname.split(\"/\")[4];\n  const adminPanel = location.pathname.split(\"/\")[1];\n  useEffect(() => {\n    dispatch(getOrder(pathId));\n  }, [pathId, dispatch]);\n  const {\n    order,\n    isLoading\n  } = useSelector(state => state.orders);\n  const [orderStatus, setOrderStatus] = useState(order.status);\n\n  const ordersStatusHandler = e => {\n    setOrderStatus(e.target.value);\n  };\n\n  const changeOrdersStatus = id => {\n    dispatch(updateOrder(id, orderStatus));\n    snackbarHandler(\"status changed successfully\", \"success\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(OrdersComponent, {\n    children: /*#__PURE__*/_jsxDEV(ShowLoading, {\n      isLoading: isLoading,\n      children: order && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"specific-order\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"ORDER NR \", order._id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Ordered:\", \" \", moment(order.createdAt).format(\"MMMM Do YYYY, h:mm:ss a\")]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [order === null || order === void 0 ? void 0 : (_order$cart = order.cart) === null || _order$cart === void 0 ? void 0 : _order$cart.length, \" Items \", order.status]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 15\n          }, this), adminPanel === \"admin\" && /*#__PURE__*/_jsxDEV(FormControl, {\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              className: \"sort-label\",\n              children: \"Change orders status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: orderStatus,\n              onChange: ordersStatusHandler,\n              className: \"sort-select\",\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"new\",\n                children: \"new\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"packing\",\n                children: \"packing\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"sent\",\n                children: \"sent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"received\",\n                children: \"received\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => changeOrdersStatus(order._id),\n              label: \"Change\",\n              variant: \"black\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }, this), adminPanel === \"admin\" && /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"User-id: \", order.userId, \" \", /*#__PURE__*/_jsxDEV(Link, {\n              to: `/admin/panel/users/${order.userId}`,\n              className: \"link\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                label: \"User Details\",\n                variant: \"black\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"items\",\n            children: order === null || order === void 0 ? void 0 : (_order$cart2 = order.cart) === null || _order$cart2 === void 0 ? void 0 : _order$cart2.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"left-item\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: `/${item.gender}/${item.id}`,\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: item.img,\n                    alt: item.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"item-details\",\n                  children: [/*#__PURE__*/_jsxDEV(Link, {\n                    to: `/${item.gender}/${item.id}`,\n                    className: \"link\",\n                    children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                      children: item.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 100,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 96,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"size: \", item.size]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 25\n                  }, this), item.cartAmount > 1 && /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"Amount: \", item.cartAmount]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"right-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: item.discount === \"true\" || item.discount === true ? \"red\" : \"black\"\n                  },\n                  children: [(item.price * item.cartAmount).toFixed(2), \" GBP\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    display: item.discount === \"true\" || item.discount === true ? \"block\" : \"none\",\n                    textDecoration: \"line-through\"\n                  },\n                  children: [item.beforeDiscount, \" GBP\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 21\n              }, this)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"order-price\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"payment\",\n              children: order.payment\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"price\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cart-price\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Price:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [order.cartPrice, \" GBP\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"shipping-price\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [order.deliveryType, \":\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [order.deliveryPrice, \" GBP\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"full-price\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Total with vat:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [(order.cartPrice + order.deliveryPrice).toFixed(2), \" GBP\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"order-address\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Shipping address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [order === null || order === void 0 ? void 0 : (_order$address = order.address) === null || _order$address === void 0 ? void 0 : _order$address.name, \" \", order === null || order === void 0 ? void 0 : (_order$address2 = order.address) === null || _order$address2 === void 0 ? void 0 : _order$address2.surname]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [order === null || order === void 0 ? void 0 : (_order$address3 = order.address) === null || _order$address3 === void 0 ? void 0 : _order$address3.street, \" \", order === null || order === void 0 ? void 0 : (_order$address4 = order.address) === null || _order$address4 === void 0 ? void 0 : _order$address4.houseNr]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [order === null || order === void 0 ? void 0 : (_order$address5 = order.address) === null || _order$address5 === void 0 ? void 0 : _order$address5.postalCode, \" \", order === null || order === void 0 ? void 0 : (_order$address6 = order.address) === null || _order$address6 === void 0 ? void 0 : _order$address6.city]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_s(OrderDetails, \"wVUqIKLMzdbHqeU3mlebBrhat9g=\", false, function () {\n  return [useDispatch, useLocation, useSelector];\n});\n\n_c = OrderDetails;\nconst OrdersComponent = styled.div`\n  .specific-order {\n    margin-left: 2rem;\n    display: flex;\n    flex-direction: column;\n    font-size: 1.5rem;\n    @media screen and (max-width: 1000px) {\n      margin-left: 0;\n    }\n    .order-details {\n      display: flex;\n      flex-direction: column;\n      margin-top: 1rem;\n      h2 {\n        @media screen and (max-width: 1000px) {\n          font-size: 20px;\n        }\n      }\n\n      .sort-select {\n        @media screen and (max-width: 1000px) {\n          width: 100%;\n        }\n      }\n      .items {\n        margin: 1rem 0;\n        padding: 1rem 0;\n        border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n        border-top: 1px solid rgba(0, 0, 0, 0.2);\n        .item {\n          display: flex;\n          justify-content: space-between;\n          padding: 0.5rem 0;\n          .left-item {\n            display: flex;\n            img {\n              height: 10rem;\n              width: 8rem;\n              @media screen and (max-width: 1000px) {\n                height: 8rem;\n                width: 6rem;\n              }\n            }\n            .item-details {\n              display: flex;\n              flex-direction: column;\n              margin-left: 5px;\n              h3 {\n                @media screen and (max-width: 1000px) {\n                  font-size: 1rem;\n                }\n              }\n\n              span {\n                padding: 1rem 0;\n                color: rgba(0, 0, 0, 0.6);\n                @media screen and (max-width: 1000px) {\n                  font-size: 0.8rem;\n                }\n              }\n            }\n          }\n          .right-item {\n            @media screen and (max-width: 1000px) {\n              font-size: 1rem;\n              margin: 0 4px;\n            }\n          }\n        }\n      }\n      .order-price {\n        display: flex;\n        justify-content: space-between;\n        margin: 1rem 0;\n        border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n        .price {\n          width: 50%;\n          display: flex;\n          justify-content: space-evenly;\n          flex-direction: column;\n          @media screen and (max-width: 1000px) {\n            width: 60%;\n            font-size: 1.1rem;\n          }\n          .cart-price {\n            display: flex;\n            justify-content: space-between;\n          }\n          .shipping-price {\n            display: flex;\n            justify-content: space-between;\n          }\n          .full-price {\n            display: flex;\n            justify-content: space-between;\n          }\n        }\n      }\n      .order-address {\n        display: flex;\n        flex-direction: column;\n        font-size: 1rem;\n        span {\n          padding: 0.5rem 0;\n        }\n      }\n    }\n  }\n`;\n_c2 = OrdersComponent;\nexport default OrderDetails;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"OrderDetails\");\n$RefreshReg$(_c2, \"OrdersComponent\");","map":{"version":3,"sources":["C:/Users/lukas/Desktop/Programowanko/Projekty/benzen/client/src/components/OrderDetails.js"],"names":["React","useState","useEffect","styled","Link","useLocation","InputLabel","MenuItem","FormControl","Select","getOrder","updateOrder","useDispatch","useSelector","Button","ShowLoading","moment","OrderDetails","snackbarHandler","dispatch","location","pathId","pathname","split","adminPanel","order","isLoading","state","orders","orderStatus","setOrderStatus","status","ordersStatusHandler","e","target","value","changeOrdersStatus","id","_id","createdAt","format","cart","length","userId","map","item","gender","img","name","size","cartAmount","color","discount","price","toFixed","display","textDecoration","beforeDiscount","payment","cartPrice","deliveryType","deliveryPrice","address","surname","street","houseNr","postalCode","city","OrdersComponent","div"],"mappings":"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D;;GAAMlD,Y;UACaL,W,EACAP,W,EAMYQ,W;;;KARzBI,Y;AAuJN,MAAMmD,eAAe,GAAGjE,MAAM,CAACkE,GAAI;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CA5GA;MAAMD,e;AA8GN,eAAenD,YAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n//styling\r\nimport styled from \"styled-components\";\r\n//router\r\nimport { Link } from \"react-router-dom\";\r\nimport { useLocation } from \"react-router\";\r\n//material ui\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\n//actions\r\nimport { getOrder, updateOrder } from \"../actions/ordersAction\";\r\n//redux\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n//components\r\nimport Button from \"./Button\";\r\nimport ShowLoading from \"./ShowLoading\";\r\n//moment\r\nimport moment from \"moment\";\r\n\r\nconst OrderDetails = ({ snackbarHandler }) => {\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n  const pathId = location.pathname.split(\"/\")[4];\r\n  const adminPanel = location.pathname.split(\"/\")[1];\r\n  useEffect(() => {\r\n    dispatch(getOrder(pathId));\r\n  }, [pathId, dispatch]);\r\n  const { order, isLoading } = useSelector((state) => state.orders);\r\n  const [orderStatus, setOrderStatus] = useState(order.status);\r\n  const ordersStatusHandler = (e) => {\r\n    setOrderStatus(e.target.value);\r\n  };\r\n  const changeOrdersStatus = (id) => {\r\n    dispatch(updateOrder(id, orderStatus));\r\n    snackbarHandler(\"status changed successfully\", \"success\");\r\n  };\r\n  return (\r\n    <OrdersComponent>\r\n      <ShowLoading isLoading={isLoading}>\r\n        {order && (\r\n          <div className=\"specific-order\">\r\n            <div className=\"order-details\">\r\n              <h2>ORDER NR {order._id}</h2>\r\n              <span>\r\n                Ordered:{\" \"}\r\n                {moment(order.createdAt).format(\"MMMM Do YYYY, h:mm:ss a\")}\r\n              </span>\r\n              <h2>\r\n                {order?.cart?.length} Items {order.status}\r\n              </h2>\r\n\r\n              {adminPanel === \"admin\" && (\r\n                <FormControl>\r\n                  <InputLabel className=\"sort-label\">\r\n                    Change orders status\r\n                  </InputLabel>\r\n                  <Select\r\n                    value={orderStatus}\r\n                    onChange={ordersStatusHandler}\r\n                    className=\"sort-select\"\r\n                  >\r\n                    <MenuItem value=\"new\">new</MenuItem>\r\n                    <MenuItem value=\"packing\">packing</MenuItem>\r\n                    <MenuItem value=\"sent\">sent</MenuItem>\r\n                    <MenuItem value=\"received\">received</MenuItem>\r\n                  </Select>\r\n\r\n                  <Button\r\n                    onClick={() => changeOrdersStatus(order._id)}\r\n                    label=\"Change\"\r\n                    variant=\"black\"\r\n                  />\r\n                </FormControl>\r\n              )}\r\n              {adminPanel === \"admin\" && (\r\n                <span>\r\n                  User-id: {order.userId}{\" \"}\r\n                  <Link\r\n                    to={`/admin/panel/users/${order.userId}`}\r\n                    className=\"link\"\r\n                  >\r\n                    <Button label=\"User Details\" variant=\"black\" />\r\n                  </Link>\r\n                </span>\r\n              )}\r\n              <div className=\"items\">\r\n                {order?.cart?.map((item) => (\r\n                  <div className=\"item\" key={item.id}>\r\n                    <div className=\"left-item\">\r\n                      <Link to={`/${item.gender}/${item.id}`}>\r\n                        <img src={item.img} alt={item.name} />\r\n                      </Link>\r\n                      <div className=\"item-details\">\r\n                        <Link\r\n                          to={`/${item.gender}/${item.id}`}\r\n                          className=\"link\"\r\n                        >\r\n                          <h3>{item.name}</h3>\r\n                        </Link>\r\n                        <span>size: {item.size}</span>\r\n                        {item.cartAmount > 1 && (\r\n                          <span>Amount: {item.cartAmount}</span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"right-item\">\r\n                      <span\r\n                        style={{\r\n                          color:\r\n                            item.discount === \"true\" || item.discount === true\r\n                              ? \"red\"\r\n                              : \"black\",\r\n                        }}\r\n                      >\r\n                        {(item.price * item.cartAmount).toFixed(2)} GBP\r\n                      </span>\r\n                      <span\r\n                        style={{\r\n                          display:\r\n                            item.discount === \"true\" || item.discount === true\r\n                              ? \"block\"\r\n                              : \"none\",\r\n                          textDecoration: \"line-through\",\r\n                        }}\r\n                      >\r\n                        {item.beforeDiscount} GBP\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              <div className=\"order-price\">\r\n                <div className=\"payment\">{order.payment}</div>\r\n                <div className=\"price\">\r\n                  <div className=\"cart-price\">\r\n                    <span>Price:</span>\r\n                    <span>{order.cartPrice} GBP</span>\r\n                  </div>\r\n                  <div className=\"shipping-price\">\r\n                    <span>{order.deliveryType}:</span>\r\n                    <span>{order.deliveryPrice} GBP</span>\r\n                  </div>\r\n                  <div className=\"full-price\">\r\n                    <span>Total with vat:</span>\r\n                    <span>\r\n                      {(order.cartPrice + order.deliveryPrice).toFixed(2)} GBP\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"order-address\">\r\n                <h2>Shipping address</h2>\r\n                <span>\r\n                  {order?.address?.name} {order?.address?.surname}\r\n                </span>\r\n                <span>\r\n                  {order?.address?.street} {order?.address?.houseNr}\r\n                </span>\r\n                <span>\r\n                  {order?.address?.postalCode} {order?.address?.city}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </ShowLoading>\r\n    </OrdersComponent>\r\n  );\r\n};\r\n\r\nconst OrdersComponent = styled.div`\r\n  .specific-order {\r\n    margin-left: 2rem;\r\n    display: flex;\r\n    flex-direction: column;\r\n    font-size: 1.5rem;\r\n    @media screen and (max-width: 1000px) {\r\n      margin-left: 0;\r\n    }\r\n    .order-details {\r\n      display: flex;\r\n      flex-direction: column;\r\n      margin-top: 1rem;\r\n      h2 {\r\n        @media screen and (max-width: 1000px) {\r\n          font-size: 20px;\r\n        }\r\n      }\r\n\r\n      .sort-select {\r\n        @media screen and (max-width: 1000px) {\r\n          width: 100%;\r\n        }\r\n      }\r\n      .items {\r\n        margin: 1rem 0;\r\n        padding: 1rem 0;\r\n        border-bottom: 1px solid rgba(0, 0, 0, 0.2);\r\n        border-top: 1px solid rgba(0, 0, 0, 0.2);\r\n        .item {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          padding: 0.5rem 0;\r\n          .left-item {\r\n            display: flex;\r\n            img {\r\n              height: 10rem;\r\n              width: 8rem;\r\n              @media screen and (max-width: 1000px) {\r\n                height: 8rem;\r\n                width: 6rem;\r\n              }\r\n            }\r\n            .item-details {\r\n              display: flex;\r\n              flex-direction: column;\r\n              margin-left: 5px;\r\n              h3 {\r\n                @media screen and (max-width: 1000px) {\r\n                  font-size: 1rem;\r\n                }\r\n              }\r\n\r\n              span {\r\n                padding: 1rem 0;\r\n                color: rgba(0, 0, 0, 0.6);\r\n                @media screen and (max-width: 1000px) {\r\n                  font-size: 0.8rem;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          .right-item {\r\n            @media screen and (max-width: 1000px) {\r\n              font-size: 1rem;\r\n              margin: 0 4px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .order-price {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        margin: 1rem 0;\r\n        border-bottom: 1px solid rgba(0, 0, 0, 0.2);\r\n        .price {\r\n          width: 50%;\r\n          display: flex;\r\n          justify-content: space-evenly;\r\n          flex-direction: column;\r\n          @media screen and (max-width: 1000px) {\r\n            width: 60%;\r\n            font-size: 1.1rem;\r\n          }\r\n          .cart-price {\r\n            display: flex;\r\n            justify-content: space-between;\r\n          }\r\n          .shipping-price {\r\n            display: flex;\r\n            justify-content: space-between;\r\n          }\r\n          .full-price {\r\n            display: flex;\r\n            justify-content: space-between;\r\n          }\r\n        }\r\n      }\r\n      .order-address {\r\n        display: flex;\r\n        flex-direction: column;\r\n        font-size: 1rem;\r\n        span {\r\n          padding: 0.5rem 0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default OrderDetails;\r\n"]},"metadata":{},"sourceType":"module"}