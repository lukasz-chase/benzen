{"ast":null,"code":"import * as api from \"../api\";\nimport { CREATE, FETCH_ITEM, START_LOADING, START_LOADING_ITEM, END_LOADING, END_LOADING_ITEM, FETCH_BY_ITEM, FETCH_BY_SEARCH, FETCH_ON_SALE, UPDATE_ITEM, DELETE, GET_FAVORITES } from \"../constants/actionTypes\"; //action creator\n\nexport const getItemsByItem = (gender, item, order, page) => async dispatch => {\n  try {\n    dispatch({\n      type: START_LOADING\n    });\n    const {\n      data: {\n        data,\n        currentPage,\n        numberOfPages\n      }\n    } = await api.getItemsByItem(gender, item, order, page);\n    dispatch({\n      type: FETCH_BY_ITEM,\n      payload: {\n        data,\n        currentPage,\n        numberOfPages\n      }\n    });\n    dispatch({\n      type: END_LOADING\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getItemsBySearch = (gender, search, page) => async dispatch => {\n  try {\n    dispatch({\n      type: START_LOADING\n    });\n    const {\n      data: {\n        data,\n        currentPage,\n        numberOfPages\n      }\n    } = await api.getItemsBySearch(gender, search, page);\n    dispatch({\n      type: FETCH_BY_SEARCH,\n      payload: {\n        data,\n        currentPage,\n        numberOfPages\n      }\n    });\n    dispatch({\n      type: END_LOADING\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getItemsOnSale = (gender, item, page, sort) => async dispatch => {\n  try {\n    dispatch({\n      type: START_LOADING\n    });\n    const {\n      data: {\n        data,\n        currentPage,\n        numberOfPages\n      }\n    } = await api.getItemsOnSale(gender, item, page, sort);\n    dispatch({\n      type: FETCH_ON_SALE,\n      payload: {\n        data,\n        currentPage,\n        numberOfPages\n      }\n    });\n    dispatch({\n      type: END_LOADING\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getItem = id => async dispatch => {\n  try {\n    dispatch({\n      type: START_LOADING_ITEM\n    });\n    const {\n      data\n    } = await api.getItem(id);\n    dispatch({\n      type: FETCH_ITEM,\n      payload: {\n        item: data\n      }\n    });\n    dispatch({\n      type: END_LOADING_ITEM\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const createItem = (item, history) => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.createItem(item);\n    dispatch({\n      type: CREATE,\n      payload: data\n    });\n    history.push(`/items/${data._id}/admin`);\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const updateItem = (id, item, history) => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.updateItem(id, item);\n    dispatch({\n      type: UPDATE_ITEM,\n      payload: data\n    });\n    history.push(`/items/${data._id}`);\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const deleteItem = (id, history) => async dispatch => {\n  try {\n    await api.deleteItem(id);\n    dispatch({\n      type: DELETE,\n      payload: id\n    });\n    history.goBack();\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getFavorites = (id, page) => async dispatch => {\n  try {\n    dispatch({\n      type: START_LOADING\n    });\n    const {\n      data: {\n        data,\n        currentPage,\n        numberOfPages\n      }\n    } = await api.getFavoriteItems(id, page);\n    dispatch({\n      type: GET_FAVORITES,\n      payload: {\n        data,\n        currentPage,\n        numberOfPages\n      }\n    });\n    dispatch({\n      type: END_LOADING\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"sources":["C:/Users/lukas/Desktop/Programowanko/Projekty/benzen/client/src/actions/itemsAction.js"],"names":["api","CREATE","FETCH_ITEM","START_LOADING","START_LOADING_ITEM","END_LOADING","END_LOADING_ITEM","FETCH_BY_ITEM","FETCH_BY_SEARCH","FETCH_ON_SALE","UPDATE_ITEM","DELETE","GET_FAVORITES","getItemsByItem","gender","item","order","page","dispatch","type","data","currentPage","numberOfPages","payload","error","console","log","getItemsBySearch","search","getItemsOnSale","sort","getItem","id","createItem","history","push","_id","updateItem","deleteItem","goBack","getFavorites","getFavoriteItems"],"mappings":"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","sourcesContent":["import * as api from \"../api\";\r\nimport {\r\n  CREATE,\r\n  FETCH_ITEM,\r\n  START_LOADING,\r\n  START_LOADING_ITEM,\r\n  END_LOADING,\r\n  END_LOADING_ITEM,\r\n  FETCH_BY_ITEM,\r\n  FETCH_BY_SEARCH,\r\n  FETCH_ON_SALE,\r\n  UPDATE_ITEM,\r\n  DELETE,\r\n  GET_FAVORITES,\r\n} from \"../constants/actionTypes\";\r\n\r\n//action creator\r\nexport const getItemsByItem =\r\n  (gender, item, order, page) => async (dispatch) => {\r\n    try {\r\n      dispatch({ type: START_LOADING });\r\n      const {\r\n        data: { data, currentPage, numberOfPages },\r\n      } = await api.getItemsByItem(gender, item, order, page);\r\n      dispatch({\r\n        type: FETCH_BY_ITEM,\r\n        payload: { data, currentPage, numberOfPages },\r\n      });\r\n      dispatch({ type: END_LOADING });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\nexport const getItemsBySearch = (gender, search, page) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING });\r\n    const {\r\n      data: { data, currentPage, numberOfPages },\r\n    } = await api.getItemsBySearch(gender, search, page);\r\n    dispatch({\r\n      type: FETCH_BY_SEARCH,\r\n      payload: { data, currentPage, numberOfPages },\r\n    });\r\n    dispatch({ type: END_LOADING });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nexport const getItemsOnSale =\r\n  (gender, item, page, sort) => async (dispatch) => {\r\n    try {\r\n      dispatch({ type: START_LOADING });\r\n      const {\r\n        data: { data, currentPage, numberOfPages },\r\n      } = await api.getItemsOnSale(gender, item, page, sort);\r\n      dispatch({\r\n        type: FETCH_ON_SALE,\r\n        payload: { data, currentPage, numberOfPages },\r\n      });\r\n      dispatch({ type: END_LOADING });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\nexport const getItem = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING_ITEM });\r\n    const { data } = await api.getItem(id);\r\n    dispatch({ type: FETCH_ITEM, payload: { item: data } });\r\n    dispatch({ type: END_LOADING_ITEM });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const createItem = (item, history) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.createItem(item);\r\n    dispatch({ type: CREATE, payload: data });\r\n    history.push(`/items/${data._id}/admin`);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const updateItem = (id, item, history) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.updateItem(id, item);\r\n    dispatch({ type: UPDATE_ITEM, payload: data });\r\n    history.push(`/items/${data._id}`);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nexport const deleteItem = (id, history) => async (dispatch) => {\r\n  try {\r\n    await api.deleteItem(id);\r\n    dispatch({ type: DELETE, payload: id });\r\n    history.goBack();\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const getFavorites = (id, page) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING });\r\n    const {\r\n      data: { data, currentPage, numberOfPages },\r\n    } = await api.getFavoriteItems(id, page);\r\n    dispatch({\r\n      type: GET_FAVORITES,\r\n      payload: { data, currentPage, numberOfPages },\r\n    });\r\n    dispatch({ type: END_LOADING });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}