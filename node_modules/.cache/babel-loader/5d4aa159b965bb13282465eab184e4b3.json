{"ast":null,"code":"import { ADD_TO_FAVORITES, GET_LOGGED_USER, UPDATE_USER, DELETE_ADDRESS } from \"../constants/actionTypes\";\nimport * as api from \"../api\";\nexport const getLoggedUser = () => async dispatch => {\n  try {\n    const user = JSON.parse(localStorage.getItem(\"profile\"));\n\n    if (user) {\n      const {\n        data\n      } = await api.getUserById(user.result._id);\n      dispatch({\n        type: GET_LOGGED_USER,\n        payload: data\n      });\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const addToFavorites = (userId, itemId) => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.addToFavorites(userId, {\n      itemId: itemId\n    });\n    dispatch({\n      type: ADD_TO_FAVORITES,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const updateAddress = (id, user) => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.updateAddress(id, user);\n    dispatch({\n      type: UPDATE_USER,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const deleteAddress = (userId, addressId) => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.deleteAddress(userId, addressId);\n    console.log(data);\n    dispatch({\n      type: DELETE_ADDRESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"sources":["C:/Users/lukas/Desktop/Programowanko/Projekty/benzen/client/src/actions/userActions.js"],"names":["ADD_TO_FAVORITES","GET_LOGGED_USER","UPDATE_USER","DELETE_ADDRESS","api","getLoggedUser","dispatch","user","JSON","parse","localStorage","getItem","data","getUserById","result","_id","type","payload","error","console","log","addToFavorites","userId","itemId","updateAddress","id","deleteAddress","addressId"],"mappings":"AAAA,SACEA,gBADF,EAEEC,eAFF,EAGEC,WAHF,EAIEC,cAJF,QAKO,0BALP;AAMA,OAAO,KAAKC,GAAZ,MAAqB,QAArB;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM,MAAOC,QAAP,IAAoB;AACrD,MAAI;AACF,UAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAX,CAAb;;AACA,QAAIJ,IAAJ,EAAU;AACR,YAAM;AAAEK,QAAAA;AAAF,UAAW,MAAMR,GAAG,CAACS,WAAJ,CAAgBN,IAAI,CAACO,MAAL,CAAYC,GAA5B,CAAvB;AACAT,MAAAA,QAAQ,CAAC;AAAEU,QAAAA,IAAI,EAAEf,eAAR;AAAyBgB,QAAAA,OAAO,EAAEL;AAAlC,OAAD,CAAR;AACD;AACF,GAND,CAME,OAAOM,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,CAVM;AAWP,OAAO,MAAMG,cAAc,GAAG,CAACC,MAAD,EAASC,MAAT,KAAoB,MAAOjB,QAAP,IAAoB;AACpE,MAAI;AACF,UAAM;AAAEM,MAAAA;AAAF,QAAW,MAAMR,GAAG,CAACiB,cAAJ,CAAmBC,MAAnB,EAA2B;AAAEC,MAAAA,MAAM,EAAEA;AAAV,KAA3B,CAAvB;AACAjB,IAAAA,QAAQ,CAAC;AAAEU,MAAAA,IAAI,EAAEhB,gBAAR;AAA0BiB,MAAAA,OAAO,EAAEL;AAAnC,KAAD,CAAR;AACD,GAHD,CAGE,OAAOM,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,CAPM;AAQP,OAAO,MAAMM,aAAa,GAAG,CAACC,EAAD,EAAKlB,IAAL,KAAc,MAAOD,QAAP,IAAoB;AAC7D,MAAI;AACF,UAAM;AAAEM,MAAAA;AAAF,QAAW,MAAMR,GAAG,CAACoB,aAAJ,CAAkBC,EAAlB,EAAsBlB,IAAtB,CAAvB;AACAD,IAAAA,QAAQ,CAAC;AAAEU,MAAAA,IAAI,EAAEd,WAAR;AAAqBe,MAAAA,OAAO,EAAEL;AAA9B,KAAD,CAAR;AACD,GAHD,CAGE,OAAOM,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,CAPM;AAQP,OAAO,MAAMQ,aAAa,GAAG,CAACJ,MAAD,EAASK,SAAT,KAAuB,MAAOrB,QAAP,IAAoB;AACtE,MAAI;AACF,UAAM;AAAEM,MAAAA;AAAF,QAAW,MAAMR,GAAG,CAACsB,aAAJ,CAAkBJ,MAAlB,EAA0BK,SAA1B,CAAvB;AACAR,IAAAA,OAAO,CAACC,GAAR,CAAYR,IAAZ;AACAN,IAAAA,QAAQ,CAAC;AAAEU,MAAAA,IAAI,EAAEb,cAAR;AAAwBc,MAAAA,OAAO,EAAEL;AAAjC,KAAD,CAAR;AACD,GAJD,CAIE,OAAOM,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,CARM","sourcesContent":["import {\r\n  ADD_TO_FAVORITES,\r\n  GET_LOGGED_USER,\r\n  UPDATE_USER,\r\n  DELETE_ADDRESS,\r\n} from \"../constants/actionTypes\";\r\nimport * as api from \"../api\";\r\n\r\nexport const getLoggedUser = () => async (dispatch) => {\r\n  try {\r\n    const user = JSON.parse(localStorage.getItem(\"profile\"));\r\n    if (user) {\r\n      const { data } = await api.getUserById(user.result._id);\r\n      dispatch({ type: GET_LOGGED_USER, payload: data });\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nexport const addToFavorites = (userId, itemId) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.addToFavorites(userId, { itemId: itemId });\r\n    dispatch({ type: ADD_TO_FAVORITES, payload: data });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nexport const updateAddress = (id, user) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.updateAddress(id, user);\r\n    dispatch({ type: UPDATE_USER, payload: data });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nexport const deleteAddress = (userId, addressId) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.deleteAddress(userId, addressId);\r\n    console.log(data);\r\n    dispatch({ type: DELETE_ADDRESS, payload: data });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}